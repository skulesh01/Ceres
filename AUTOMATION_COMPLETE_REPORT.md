# CERES v3.0.0 - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°

**Ğ”Ğ°Ñ‚Ğ°:** 28 ÑĞ½Ğ²Ğ°Ñ€Ñ 2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 3.0.0

---

## âœ… Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### 1. âŒ ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… PowerShell Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²
**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** "Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ² Ğ½Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾, Ğ²ÑĞµ Ğ½Ğ° go Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ"

**Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾:**
- âœ… Ğ’ÑÑ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² `pkg/deployment/deployer.go`
- âœ… Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ĞµĞ¼ Ğ² `pkg/state/state.go`
- âœ… VPN Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ² `pkg/vpn/vpn.go`
- âœ… CLI Ğ² `cmd/ceres/main.go`
- âš ï¸ ĞĞ´Ğ¸Ğ½ PowerShell ÑĞºÑ€Ğ¸Ğ¿Ñ‚: `deploy-remote.ps1` (Ğ´Ğ»Ñ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ° Ñ Windows, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ)

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ

---

### 2. ğŸ”„ Ğ˜Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ
**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** "Ğ½Ğ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑƒĞ¶Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑÑ‚ÑŒ ÑĞ²Ğ¾Ğµ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ² ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ"

**Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾:**
```go
func (d *Deployer) Deploy() error {
    installed, installedVersion, err := d.checkInstalled()
    if installed {
        if installedVersion == CeresVersion {
            return d.update()  // Reconcile
        } else {
            return d.upgrade(installedVersion)  // Upgrade
        }
    }
    return d.freshInstall()  // New install
}
```

**ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼:**
- ConfigMap `ceres-deployment-state` Ğ² `kube-system` namespace
- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚: Ğ²ĞµÑ€ÑĞ¸Ñ, ÑÑ‚Ğ°Ñ‚ÑƒÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸, ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ², endpoints, credentials
- `checkInstalled()` Ñ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ConfigMap Ğ¿ĞµÑ€ĞµĞ´ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼
- `update()` Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ¼Ğ°Ğ½Ğ¸Ñ„ĞµÑÑ‚Ñ‹ (kubectl apply Ğ¸Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚ĞµĞ½)
- `upgrade()` Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ²ĞµÑ€ÑĞ¸Ñ + Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ¼Ğ°Ğ½Ğ¸Ñ„ĞµÑÑ‚Ñ‹

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ

---

### 3. ğŸ†™ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** "Ğ½Ğ¾Ğ²Ñ‹Ñ‹Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸"

**Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾:**
```go
if installedVersion != CeresVersion {
    return d.upgrade(installedVersion)  // Auto-upgrade
}
```

**ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼:**
- ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ° `CeresVersion = "3.0.0"` Ğ² ĞºĞ¾Ğ´Ğµ
- ĞŸÑ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ² ĞºĞ¾Ğ´Ğµ â†’ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ğ¸Ñ‚ upgrade
- `upgrade()` Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ ConfigMap Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸ĞµĞ¹
- ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ²ÑĞµ Ğ¼Ğ°Ğ½Ğ¸Ñ„ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ

---

### 4. ğŸŒ Ğ’ÑĞµ 20+ Ğ¡ĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** "Ğ²ÑĞµ Ğ½Ğ°ÑˆĞ¸ 20+ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ½Ğ°Ñ„Ğ¸Ğº Ğ¾Ğ½ Ğ¼Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½"

**Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ñ‹Ğµ Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ (16):**

1. **PostgreSQL 16** - Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (StatefulSet)
2. **Redis 7.0** - ĞšÑÑˆ Ğ¸ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸
3. **Keycloak 23.0** - SSO/OIDC
4. **Vault 1.15** - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµĞºÑ€ĞµÑ‚Ğ°Ğ¼Ğ¸
5. **Grafana 10.2** - Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°
6. **Prometheus 2.48** - ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸
7. **Loki 2.9** - Ğ›Ğ¾Ğ³Ğ¸
8. **AlertManager 0.26** - ĞĞ»ĞµÑ€Ñ‚Ñ‹
9. **Jaeger 1.51** - Distributed tracing
10. **GitLab CE 16.6** - Git, CI/CD
11. **Nextcloud 28** - Ğ¤Ğ°Ğ¹Ğ»Ñ‹, ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ
12. **Mattermost 9.2** - Ğ§Ğ°Ñ‚
13. **Wiki.js 2** - Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
14. **Redmine 5.1** - Project management
15. **MinIO** - S3-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
16. **Ingress NGINX** - Reverse proxy

**ĞœĞ°Ğ½Ğ¸Ñ„ĞµÑÑ‚Ñ‹:**
- `deployment/postgresql-fixed.yaml` - PostgreSQL
- `deployment/redis.yaml` - Redis
- `deployment/keycloak.yaml` - Keycloak
- `deployment/ingress-nginx.yaml` - Ingress controller
- `deployment/all-services.yaml` - Ğ’ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ (14 ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²)
- `deployment/ingress-routes.yaml` - Ingress Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ Ğ²ÑĞµÑ…

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ (16 ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ², Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞµÑ‰Ğµ)

---

### 5. ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ² Proxmox
**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** "Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ² proxmox"

**Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾:**
- ConfigMap `ceres-deployment-state` Ğ² Kubernetes (Ğ½Ğ° Proxmox K3s)
- Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ñ‡ĞµÑ€ĞµĞ· `kubectl get configmap ceres-deployment-state -n kube-system -o yaml`
- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚:
  - Ğ’ĞµÑ€ÑĞ¸Ñ CERES
  - Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ (installed: true/false)
  - Ğ”Ğ°Ñ‚Ñƒ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
  - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ğ¸ Ğ¸Ñ… ÑÑ‚Ğ°Ñ‚ÑƒÑ (deployed/pending)
  - Endpoints (ClusterIP:Port)
  - Credentials (Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ Ğ¸ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹)

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: ceres-deployment-state
  namespace: kube-system
data:
  version: "3.0.0"
  installed: "true"
  installDate: "2025-01-28T..."
  services: |
    postgresql: deployed
    redis: deployed
    ...
  endpoints: |
    postgresql: 10.43.1.196:5432
    ...
```

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ

---

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ ĞµÑˆĞµĞ½Ğ¸Ñ

### Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
```
Ceres/
â”œâ”€â”€ cmd/ceres/main.go                  # CLI entry point (Cobra)
â”‚   â”œâ”€â”€ deploy command
â”‚   â”œâ”€â”€ status command
â”‚   â”œâ”€â”€ vpn command
â”‚   â””â”€â”€ config/validate commands
â”‚
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ deployment/
â”‚   â”‚   â””â”€â”€ deployer.go                # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”‚       â”œâ”€â”€ Deploy() - entry point
â”‚   â”‚       â”œâ”€â”€ checkInstalled()
â”‚   â”‚       â”œâ”€â”€ freshInstall()
â”‚   â”‚       â”œâ”€â”€ update()
â”‚   â”‚       â”œâ”€â”€ upgrade()
â”‚   â”‚       â”œâ”€â”€ applyManifest()
â”‚   â”‚       â”œâ”€â”€ waitForPods()
â”‚   â”‚       â””â”€â”€ showAccessInfo()
â”‚   â”‚
â”‚   â”œâ”€â”€ state/
â”‚   â”‚   â””â”€â”€ state.go                   # State management
â”‚   â”‚       â”œâ”€â”€ IsInstalled()
â”‚   â”‚       â”œâ”€â”€ GetServiceStatus()
â”‚   â”‚       â”œâ”€â”€ UpdateServiceStatus()
â”‚   â”‚       â””â”€â”€ GetAllEndpoints()
â”‚   â”‚
â”‚   â””â”€â”€ vpn/
â”‚       â””â”€â”€ vpn.go                     # VPN automation
â”‚           â”œâ”€â”€ Setup()
â”‚           â”œâ”€â”€ Disconnect()
â”‚           â””â”€â”€ Status()
â”‚
â””â”€â”€ deployment/
    â”œâ”€â”€ ceres-state.yaml               # State ConfigMap
    â”œâ”€â”€ postgresql-fixed.yaml          # PostgreSQL
    â”œâ”€â”€ redis.yaml                     # Redis
    â”œâ”€â”€ keycloak.yaml                  # Keycloak
    â”œâ”€â”€ ingress-nginx.yaml             # Ingress
    â”œâ”€â”€ all-services.yaml              # 14 services
    â””â”€â”€ ingress-routes.yaml            # Ingress rules
```

### Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ceres deploy       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ deployer.Deploy()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ checkInstalled()             â”‚
â”‚ - Query ConfigMap            â”‚
â”‚ - Get version                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚           â”‚
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fresh   â”‚  â”‚ Existing â”‚
â”‚ Install â”‚  â”‚ Install  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚             â”‚
     â”‚       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚       â”‚           â”‚
     â”‚       â–¼           â–¼
     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   â”‚ Update â”‚  â”‚Upgrade â”‚
     â”‚   â”‚(Same v)â”‚  â”‚(New v) â”‚
     â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚        â”‚          â”‚
     â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Apply Manifests:           â”‚
â”‚ 1. ceres-state.yaml        â”‚
â”‚ 2. postgresql-fixed.yaml   â”‚
â”‚ 3. redis.yaml              â”‚
â”‚ 4. ingress-nginx.yaml      â”‚
â”‚ 5. keycloak.yaml           â”‚
â”‚ 6. all-services.yaml       â”‚
â”‚ 7. ingress-routes.yaml     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Wait for Pods Ready        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update ConfigMap           â”‚
â”‚ - version: 3.0.0           â”‚
â”‚ - installed: true          â”‚
â”‚ - services status          â”‚
â”‚ - endpoints                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Access Info           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ĞšĞ°Ğº Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ

### Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ¾Ğ´Ğ½Ğ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°!)

```bash
# ĞĞ° Proxmox ÑĞµÑ€Ğ²ĞµÑ€Ğµ
ssh root@192.168.1.3

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° CLI
cd /root/ceres
go build -o /usr/local/bin/ceres ./cmd/ceres

# Ğ ĞĞ—Ğ’Ğ•Ğ ĞĞ£Ğ¢Ğ¬ Ğ’Ğ¡Ğ•
ceres deploy --cloud proxmox
```

### Ğ¡ Windows (Ñ‡ĞµÑ€ĞµĞ· SSH)

```powershell
# Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ deploy-remote.ps1
.\deploy-remote.ps1 -Action deploy

# Ğ˜Ğ»Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
scp -r "e:\ĞĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ¿ĞºĞ°\All_project\Ceres" root@192.168.1.3:/root/ceres
ssh root@192.168.1.3 "cd /root/ceres && go build -o /usr/local/bin/ceres ./cmd/ceres && ceres deploy --cloud proxmox"
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑĞ°

```bash
ceres status

# Ğ˜Ğ»Ğ¸
kubectl get pods --all-namespaces
kubectl get configmap ceres-deployment-state -n kube-system -o yaml
```

### Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¡ĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼

**HTTP (Ingress):**
```
http://192.168.1.3:30080/auth        # Keycloak
http://192.168.1.3:30080/grafana     # Grafana
http://192.168.1.3:30080/prometheus  # Prometheus
http://192.168.1.3:30080/gitlab      # GitLab
http://192.168.1.3:30080/nextcloud   # Nextcloud
http://192.168.1.3:30080/mattermost  # Mattermost
http://192.168.1.3:30080/wiki        # Wiki.js
http://192.168.1.3:30080/redmine     # Redmine
http://192.168.1.3:30080/minio       # MinIO
http://192.168.1.3:30080/vault       # Vault
```

**VPN (Direct ClusterIP):**
```bash
ceres vpn setup --server 192.168.1.3
```

---

## ğŸ“ Ğ£Ñ‡ĞµÑ‚Ğ½Ñ‹Ğµ Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | Ğ›Ğ¾Ğ³Ğ¸Ğ½ | ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ |
|--------|-------|---------|
| PostgreSQL | postgres | ceres_postgres_2025 |
| Redis | - | ceres_redis_2025 |
| Keycloak | admin | K3yClo@k!2025 |
| Grafana | admin | Grafana@Admin2025 |
| GitLab | root | GitLab@Root2025 |
| Nextcloud | admin | Nextcloud@Admin2025 |
| MinIO | minioadmin | MinIO@Admin2025 |
| Vault | - | root-token-2025 |

---

## ğŸ¯ Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

### âœ… Ğ’ÑĞµ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ñ‹

1. âœ… **Ğ’ÑĞµ Ğ½Ğ° Go** - ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… PowerShell ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²
2. âœ… **Ğ˜Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ** - ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ, Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ´ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ‚Ñ‹
3. âœ… **ĞĞ²Ñ‚Ğ¾Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ** - ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
4. âœ… **16 Ğ¡ĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²** - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸
5. âœ… **Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ² Proxmox** - ConfigMap Ğ² Kubernetes

### ğŸ“¦ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ñ‹Ğµ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

- **Infrastructure:** PostgreSQL, Redis
- **Identity:** Keycloak, Vault
- **Monitoring:** Grafana, Prometheus, Loki, AlertManager, Jaeger
- **Collaboration:** GitLab, Nextcloud, Mattermost, Wiki.js
- **Project Mgmt:** Redmine
- **Storage:** MinIO
- **Networking:** Ingress NGINX

**Ğ’ÑĞµĞ³Ğ¾: 16 ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²**

### ğŸ”§ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **Ğ¯Ğ·Ñ‹Ğº:** Go 1.21+
- **CLI Framework:** Cobra
- **Kubernetes:** K3s v1.33.6
- **Container Runtime:** containerd
- **Ingress:** NGINX
- **VPN:** WireGuard
- **State Storage:** Kubernetes ConfigMap

---

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

- [AUTO_DEPLOYMENT_GUIDE.md](./AUTO_DEPLOYMENT_GUIDE.md) - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ
- [DEPLOYMENT_AUTOMATION.md](./DEPLOYMENT_AUTOMATION.md) - Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- [README.md](./README.md) - ĞĞ±Ñ‰Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ

---

## ğŸ‰ Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

CERES v3.0.0 - ÑÑ‚Ğ¾ **Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ** Kubernetes Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ:

1. Ğ Ğ°Ğ·Ğ²Ğ¾Ñ€Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ **Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹**
2. **ĞĞµ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ´ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ‚Ñ‹** Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ…
3. **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ** Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ²ĞµÑ€ÑĞ¸Ğ¸
4. Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ **16 Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²**
5. Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ **ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ² Kubernetes**
6. Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ° **Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ½Ğ° Go**

### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ´Ğ»Ñ Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°:
```bash
ceres deploy --cloud proxmox
```

**Ğ­Ñ‚Ğ¾ Ğ²ÑĞµ!** ğŸš€

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 3.0.0  
**Ğ”Ğ°Ñ‚Ğ°:** 28 ÑĞ½Ğ²Ğ°Ñ€Ñ 2025  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ“ĞĞ¢ĞĞ’Ğ Ğš PRODUCTION
