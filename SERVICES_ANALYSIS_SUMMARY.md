# üìç SERVICES ANALYSIS ‚Äî QUICK SUMMARY

---

## üéØ –ì–õ–ê–í–ù–´–ï –í–´–í–û–î–´

### ‚úÖ –ß–¢–û –•–û–†–û–®–û
```
‚úì Core —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (PostgreSQL, Redis)
‚úì Keycloak –∫–∞–∫ SSO - –∏–¥–µ–∞–ª—å–Ω–æ
‚úì Gitea - –ª–µ–≥–∫–∏–π –∏ —Ö–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä
‚úì Grafana —Å OIDC - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
‚úì Caddy –∫–∞–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä
‚úì Uptime Kuma - —Ö–æ—Ä–æ—à–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
```

### ‚ùå –ß–¢–û –ü–õ–û–•–û

#### üî¥ –ö–†–ò–¢–ò–ß–ù–û
```
1. –ö–û–ù–§–õ–ò–ö–¢ –ü–û–†–¢–û–í: Jaeger (14250, 6831-6832) 
                   + OTEL (4317, 4318, 14250)
                   + Tempo (4317, 4318)
   ‚Üí –í–°–ï –ü–ê–î–£–¢, –Ω–µ –ø–æ–¥–Ω–∏–º—É—Ç—Å—è

2. PROMTAIL –û–¢–°–£–¢–°–¢–í–£–ï–¢
   Loki –µ—Å—Ç—å, –Ω–æ –ª–æ–≥–∏ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è!
   ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

3. ALERTMANAGER –û–¢–°–£–¢–°–¢–í–£–ï–¢
   Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏, –Ω–æ –∞–ª–µ—Ä—Ç—ã –Ω–∏–∫—É–¥–∞ –Ω–µ –∏–¥—É—Ç
   ‚Üí –°–∏—Å—Ç–µ–º–∞ —Å–ª–µ–ø–∞—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
```

#### üü° –°–ï–†–¨–Å–ó–ù–û
```
4. Loki –≤ –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û–ú –§–ê–ô–õ–ï (monitoring.yml)
   –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ observability.yml

5. cAdvisor –î–£–ë–õ–ò–†–£–ï–¢ Prometheus
   –û–±–µ —Å–æ–±–∏—Ä–∞—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –º–µ—Ç—Ä–∏–∫–∏

6. –°–µ—Ä–≤–∏—Å—ã –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –º–æ–¥—É–ª—è–º
   Mattermost/Redmine/Mayan –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏/–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
```

---

## üìä –¢–ê–ë–õ–ò–¶–ê "–ß–¢–û –û–°–¢–ê–í–ò–¢–¨, –ß–¢–û –£–î–ê–õ–ò–¢–¨"

| –°–µ—Ä–≤–∏—Å | –û—Å—Ç–∞–≤–∏—Ç—å? | –ü–æ—á–µ–º—É | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|-------|---------|
| **Jaeger** | ‚ùå | –î—É–±–ª–∏—Ä—É–µ—Ç Tempo, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ | –£–î–ê–õ–ò–¢–¨ |
| **OTEL Collector** | ‚ùå | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ 4317/4318, –Ω–µ –Ω—É–∂–µ–Ω | –£–î–ê–õ–ò–¢–¨ |
| **Tempo** | ‚úÖ | –†–æ–¥–Ω–æ–π –¥–ª—è Grafana, –Ω—É–∂–µ–Ω | –û–°–¢–ê–í–ò–¢–¨ |
| **Promtail** | ‚úÖ | –ö–†–ò–¢–ò–ß–ù–û! –°–æ–±–∏—Ä–∞–µ—Ç –ª–æ–≥–∏ –¥–ª—è Loki | –î–û–ë–ê–í–ò–¢–¨ |
| **Loki** | ‚úÖ | –ù—É–∂–Ω–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ |
| **Alertmanager** | ‚úÖ | –ù–£–ñ–ï–ù! –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–ª–µ—Ä—Ç—ã | –î–û–ë–ê–í–ò–¢–¨ |
| **Prometheus** | ‚úÖ | –û—Å–Ω–æ–≤–Ω–æ–π TSDB | –û–°–¢–ê–í–ò–¢–¨ |
| **Grafana** | ‚úÖ | –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã | –û–°–¢–ê–í–ò–¢–¨ |
| **cAdvisor** | ‚ö†Ô∏è | –î—É–±–ª–∏—Ä—É–µ—Ç Prometheus | –ü–ï–†–ï–°–ú–û–¢–†–ï–¢–¨ |
| **PostgreSQL** | ‚úÖ | –û—Å–Ω–æ–≤–Ω–∞—è –ë–î | –û–°–¢–ê–í–ò–¢–¨ |
| **Redis** | ‚úÖ | –ö—ç—à –∏ –æ—á–µ—Ä–µ–¥–∏ | –û–°–¢–ê–í–ò–¢–¨ |
| **Keycloak** | ‚úÖ | –ï–¥–∏–Ω—ã–π SSO | –û–°–¢–ê–í–ò–¢–¨ |
| **Nextcloud** | ‚úÖ | –û–±–ª–∞–∫–æ/—Ñ–∞–π–ª—ã | –û–°–¢–ê–í–ò–¢–¨ |
| **Gitea** | ‚úÖ | Git —Ö–æ—Å—Ç–∏–Ω–≥ | –û–°–¢–ê–í–ò–¢–¨ |
| **Mattermost** | ‚ö†Ô∏è | –ß–∞—Ç (—Ç—è–∂–µ–ª—ã–π, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–µ–Ω) | –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ –í –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï |
| **Redmine** | ‚ö†Ô∏è | –ü—Ä–æ–µ–∫—Ç—ã (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–Ω–∞) | –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ –í –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï |
| **Wiki.js** | ‚úÖ | –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (–ª–µ–≥–∫–∞—è) | –û–°–¢–ê–í–ò–¢–¨ |
| **Caddy** | ‚úÖ | –†–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ | –û–°–¢–ê–í–ò–¢–¨ |
| **Portainer** | ‚úÖ | GUI Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | –û–°–¢–ê–í–ò–¢–¨ |
| **Uptime Kuma** | ‚úÖ | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ | –û–°–¢–ê–í–ò–¢–¨ |
| **Mayan EDMS** | ‚ùå | –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ –í ADVANCED |
| **Vault** | ‚ö†Ô∏è | –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω—É–∂–µ–Ω | –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô |
| **Mail (Mailu)** | ‚ö†Ô∏è | –°–ª–æ–∂–Ω–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ | –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô |

---

## üîß –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

### ‚úÖ –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–° (30 –º–∏–Ω—É—Ç)

```bash
# 1. –£–¥–∞–ª–∏—Ç—å –∏–∑ observability.yml
   - jaeger (–≤–µ—Å—å —Å–µ—Ä–≤–∏—Å)
   - otel-collector (–≤–µ—Å—å —Å–µ—Ä–≤–∏—Å)

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ observability.yml
   - promtail (—Å–±–æ—Ä –ª–æ–≥–æ–≤)

# 3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑ monitoring.yml –≤ observability.yml
   - loki (–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ü–µ–ª–∏–∫–æ–º)

# 4. –î–æ–±–∞–≤–∏—Ç—å –≤ monitoring.yml
   - alertmanager (–æ–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤)

# 5. –û–±–Ω–æ–≤–∏—Ç—å prometheus.yml
   - –î–æ–±–∞–≤–∏—Ç—å alertmanager_configs
   - –î–æ–±–∞–≤–∏—Ç—å alert rules
```

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Ä—Ç–æ–≤: 5+ ‚Üí 0
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –Ω–∞—á–Ω—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è
- ‚úÖ RAM —ç–∫–æ–Ω–æ–º–∏—è: ~1.5 GB

---

## üìà –°–ï–ô–ß–ê–° vs –ü–û–¢–û–ú

### Small –ø—Ä–æ—Ñ–∏–ª—å

```
–°–ï–ô–ß–ê–°:  17 —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü–û–¢–û–ú:   12 —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–µ—Ç, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### Medium –ø—Ä–æ—Ñ–∏–ª—å

```
–°–ï–ô–ß–ê–°:  30+ —Å–µ—Ä–≤–∏—Å–æ–≤, 3 —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç, log–∏ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
–ü–û–¢–û–ú:   15 —Å–µ—Ä–≤–∏—Å–æ–≤ + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∏—Å—Ç–æ
```

### Large –ø—Ä–æ—Ñ–∏–ª—å

```
–°–ï–ô–ß–ê–°:  45+ —Å–µ—Ä–≤–∏—Å–æ–≤, –ø—É—Ç–∞–Ω–∏—Ü–∞, —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ RAM
–ü–û–¢–û–ú:   25-30 —Å–µ—Ä–≤–∏—Å–æ–≤ + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ, –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ, —è—Å–Ω–æ
```

---

## üí° –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –í –û–î–ù–û–ô –¢–ê–ë–õ–ò–¶–ï

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ì–¥–µ | –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å | –í—Ä–µ–º—è |
|---|----------|-----|---------------|-------|
| 1 | Jaeger –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ | observability.yml | –£–¥–∞–ª–∏—Ç—å | 1 –º–∏–Ω |
| 2 | OTEL –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ | observability.yml | –£–¥–∞–ª–∏—Ç—å | 1 –º–∏–Ω |
| 3 | Promtail –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | observability.yml | –î–æ–±–∞–≤–∏—Ç—å | 5 –º–∏–Ω |
| 4 | Loki –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ | monitoring.yml | –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å | 5 –º–∏–Ω |
| 5 | Alertmanager –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | monitoring.yml | –î–æ–±–∞–≤–∏—Ç—å | 5 –º–∏–Ω |
| 6 | Alert rules –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã | prometheus/ | –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª | 10 –º–∏–Ω |
| 7. | Alertmanager –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω | prometheus/ | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å | 10 –º–∏–Ω |
| 8 | cAdvisor –¥—É–±–ª–∏—Ä—É–µ—Ç | monitoring.yml | –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å | 5 –º–∏–Ω |
| 9 | –°–µ—Ä–≤–∏—Å—ã –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã | config/compose/ | –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ optional | 15 –º–∏–Ω |

**–ò–¢–û–ì–û: ~57 –º–∏–Ω—É—Ç –Ω–∞ –ø–æ–ª–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é**

---

## üöÄ –ö–ê–ö –ù–ê–ß–ê–¢–¨

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–æ (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ)

1. –£–¥–∞–ª–∏—Ç—å Jaeger
2. –£–¥–∞–ª–∏—Ç—å OTEL Collector
3. –î–æ–±–∞–≤–∏—Ç—å Promtail
4. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å Loki
5. –î–æ–±–∞–≤–∏—Ç—å Alertmanager

**–í—Ä–µ–º—è:** ~30 –º–∏–Ω—É—Ç  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–æ (–≤—Å—ë –≤–∫–ª—é—á–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é)

–í–∞—Ä–∏–∞–Ω—Ç 1 +
6. –°–æ–∑–¥–∞—Ç—å op—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
7. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
8. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–í—Ä–µ–º—è:** ~2 —á–∞—Å–∞  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç–∞—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üéì –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–î–ï–õ–ê–¢–¨ –í–°–Å –°–†–ê–ó–£** (–í–∞—Ä–∏–∞–Ω—Ç 2)

–ü–æ—Ç–æ–º—É —á—Ç–æ:
- ‚úÖ –ó–∞–π–º—ë—Ç 2 —á–∞—Å–∞ (–Ω–µ —Ç–∞–∫ –º–Ω–æ–≥–æ)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –∏–¥–µ–∞–ª—å–Ω—ã–º
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–π
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π
- ‚úÖ –ò–∑–±–µ–∂–∏–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?**
