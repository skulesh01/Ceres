# CERES â€” Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

## ğŸ“‹ ĞŸĞ›ĞĞ Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ™ ĞŸĞ ĞĞ•ĞšĞ¢Ğ

### Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°
Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² CERES ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ:
1. **ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚** Ğ¸Ğ¼ĞµÑÑ‰Ğ¸ĞµÑÑ Ñ€ĞµÑÑƒÑ€ÑÑ‹ (CPU, RAM, Storage)
2. **Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚** ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²
3. **ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ** ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¼Ğ°ÑˆĞ¸Ğ½, ĞºĞ°ĞºĞ¸Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹, ĞºĞ°ĞºĞ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
4. **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚** ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ (Terraform, Docker Compose, .env)

---

## ğŸ—ï¸ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ¯

### Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ 1: ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   System Resource Analyzer      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ»ĞµĞ²ÑƒÑ Ğ¼Ğ°ÑˆĞ¸Ğ½Ñƒ:    â”‚
â”‚    - Proxmox: ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ CPU/RAM    â”‚
â”‚    - Windows/Linux: ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ      â”‚
â”‚      CPU/RAM Ğ´Ğ»Ñ Docker         â”‚
â”‚ 2. Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ        â”‚
â”‚ 3. Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ 2: Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interactive Configuration Wizard â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Preset profiles:              â”‚
â”‚    â€¢ Small (1-3 Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹)          â”‚
â”‚    â€¢ Medium (3 Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹)           â”‚
â”‚    â€¢ Large (3+ Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹ + HA)      â”‚
â”‚                                  â”‚
â”‚ 2. Customization:                â”‚
â”‚    â€¢ ĞšĞ¾Ğ»-Ğ²Ğ¾ Ğ¼Ğ°ÑˆĞ¸Ğ½                â”‚
â”‚    â€¢ CPU Ğ½Ğ° Ğ¼Ğ°ÑˆĞ¸Ğ½Ñƒ               â”‚
â”‚    â€¢ RAM Ğ½Ğ° Ğ¼Ğ°ÑˆĞ¸Ğ½Ñƒ               â”‚
â”‚    â€¢ Storage                     â”‚
â”‚    â€¢ ĞšĞ°ĞºĞ¸Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸               â”‚
â”‚    â€¢ ĞšĞ°ĞºĞ¸Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ (VPN, mail)    â”‚
â”‚                                  â”‚
â”‚ 3. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ‚ÑŒ plan:              â”‚
â”‚    â€¢ Total resources             â”‚
â”‚    â€¢ VM distribution             â”‚
â”‚    â€¢ Services placement          â”‚
â”‚    â€¢ Estimated costs             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ 3: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¾Ğ²
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Configuration Generator        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ĞĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚:    â”‚
â”‚                                â”‚
â”‚ 1. terraform/environments/      â”‚
â”‚    â€¢ {profile}.tfvars          â”‚
â”‚    â€¢ terraform.auto.tfvars     â”‚
â”‚                                â”‚
â”‚ 2. config/compose/             â”‚
â”‚    â€¢ ĞŸĞµÑ€ĞµÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğµ resources   â”‚
â”‚    â€¢ Updated .env              â”‚
â”‚                                â”‚
â”‚ 3. Documentation:              â”‚
â”‚    â€¢ deployment-plan.md        â”‚
â”‚    â€¢ resource-allocation.json  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ ĞŸĞ ĞĞ¤Ğ˜Ğ›Ğ•Ğ™

### Small Profile (Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°/Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
```
ç¯å¢ƒ: Docker Compose Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğµ / Proxmox (Ğ¾Ğ´Ğ½Ğ° VM)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Single VM / Docker â”‚ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total: 8-16 CPU,    â”‚
â”‚        16-32 GB RAM â”‚
â”‚        100+ GB SSD  â”‚
â”‚                     â”‚
â”‚ Services:           â”‚
â”‚ â€¢ core (Postgres,   â”‚
â”‚   Redis, Keycloak)  â”‚
â”‚ â€¢ apps (basic)      â”‚
â”‚ â€¢ monitoring        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:** Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°, PoC, Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° (5-10 Ñ‡ĞµĞ»)

### Medium Profile (Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°)
```
ĞĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ: Proxmox, 3 VM

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Core VM  â”‚  â”‚  Apps VM   â”‚  â”‚ Edge VM  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4 CPU     â”‚  â”‚ 4 CPU      â”‚  â”‚ 2 CPU    â”‚
â”‚ 8 GB RAM  â”‚  â”‚ 8 GB RAM   â”‚  â”‚ 4 GB RAM â”‚
â”‚ 50 GB     â”‚  â”‚ 80 GB      â”‚  â”‚ 40 GB    â”‚
â”‚           â”‚  â”‚            â”‚  â”‚          â”‚
â”‚ Postgres  â”‚  â”‚ Nextcloud  â”‚  â”‚ Caddy    â”‚
â”‚ Redis     â”‚  â”‚ Gitea      â”‚  â”‚ Grafana  â”‚
â”‚ Keycloak  â”‚  â”‚ Mattermost â”‚  â”‚ Prometh. â”‚
â”‚           â”‚  â”‚ Redmine    â”‚  â”‚ Uptime K â”‚
â”‚           â”‚  â”‚ Wiki.js    â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:** ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° 10-50 Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº, production-like Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ

### Large Profile (Enterprise)
```
ĞĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ: Proxmox, 4-5 VM + HA + Failover

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Core Primary  â”‚  â”‚ Core Backup â”‚  â”‚  Apps VM 1   â”‚  â”‚ Edge VM  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6 CPU         â”‚  â”‚ 6 CPU       â”‚  â”‚ 4 CPU        â”‚  â”‚ 4 CPU    â”‚
â”‚ 16 GB RAM     â”‚  â”‚ 16 GB RAM   â”‚  â”‚ 8 GB RAM     â”‚  â”‚ 8 GB RAM â”‚
â”‚ 100 GB        â”‚  â”‚ 100 GB      â”‚  â”‚ 100 GB       â”‚  â”‚ 50 GB    â”‚
â”‚               â”‚  â”‚             â”‚  â”‚              â”‚  â”‚          â”‚
â”‚ Postgres (M)  â”‚  â”‚ Postgres (R)â”‚  â”‚ Nextcloud    â”‚  â”‚ Caddy    â”‚
â”‚ Redis (M)     â”‚  â”‚ Redis (R)   â”‚  â”‚ Gitea (HA)   â”‚  â”‚ Prometheus
â”‚ Keycloak (HA) â”‚  â”‚ Keycloak(R) â”‚  â”‚ Mattermost   â”‚  â”‚ Grafana  â”‚
â”‚ Patroni       â”‚  â”‚ Patroni     â”‚  â”‚ Redmine      â”‚  â”‚ Loki     â”‚
â”‚ etcd          â”‚  â”‚ etcd        â”‚  â”‚ Wiki.js      â”‚  â”‚ Portainer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    
Optional:           Optional:       Optional:         
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apps VM 2    â”‚   â”‚  Storage    â”‚ â”‚  VPN         â”‚
â”‚  (Read-only)  â”‚   â”‚  (NFS/GlusterFS)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:** 50+ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº, high-availability requirement, SLA 99.9%

---

## ğŸ”§ Ğ¢Ğ•Ğ¥ĞĞ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ĞšĞĞœĞŸĞĞĞ•ĞĞ¢Ğ«

### 1. Resource Analyzer Script
**Ğ¤Ğ°Ğ¹Ğ»:** `scripts/analyze-resources.ps1`

```powershell
# Ğ§Ñ‚Ğ¾ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ:
- Get-SystemResources       # ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹
- Get-ProxmoxResources      # ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğº Proxmox, ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ Ñ€ĞµÑÑƒÑ€ÑÑ‹
- Calculate-Requirements    # Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ
- Generate-Report          # Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚
```

**Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:**
```json
{
  "system": {
    "type": "proxmox",
    "total_cpu": 16,
    "total_ram_gb": 64,
    "total_storage_gb": 500,
    "available_cpu": 12,
    "available_ram_gb": 48
  },
  "recommendations": {
    "small": { "feasible": true, "reason": "sufficient resources" },
    "medium": { "feasible": true, "reason": "recommended profile" },
    "large": { "feasible": true, "reason": "can run with HA" }
  },
  "warnings": [
    "Storage < 500GB recommended",
    "CPU might be tight for high load"
  ]
}
```

### 2. Configuration Wizard Script
**Ğ¤Ğ°Ğ¹Ğ»:** `scripts/configure-ceres.ps1`

```powershell
# Ğ§Ñ‚Ğ¾ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ:
- Show-Profile-Options      # ĞŸÑ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ Preset Ğ¸Ğ»Ğ¸ Custom
- Show-VM-Config            # Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ VM, Ñ€ĞµÑÑƒÑ€ÑÑ‹
- Show-Service-Selection    # Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ (core/apps/monitoring/vpn)
- Show-Resource-Preview     # ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ plan Ğ¿ĞµÑ€ĞµĞ´ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸ĞµĞ¹
- Validate-Configuration    # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹Ğ¹
- Generate-All-Configs      # Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹
```

**Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  CERES Configuration Wizard            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Deployment Type:
   â—‹ Docker Compose (local)
   â—‹ Kubernetes on Proxmox
   â†’ [Kubernetes]

2. Resource Profile:
   â—‹ Small (1-3 VM, basic)
   â—‹ Medium (3 VM, standard) â† RECOMMENDED
   â—‹ Large (4-5 VM, HA)
   â—‹ Custom
   â†’ [Medium]

3. Virtual Machines:
   VM Count: [3]
   
   VM1 (Core):
     CPU:  [4] cores
     RAM:  [8] GB
     Storage: [50] GB
   
   VM2 (Apps):
     CPU:  [4] cores
     RAM:  [8] GB
     Storage: [80] GB
   
   VM3 (Edge):
     CPU:  [2] cores
     RAM:  [4] GB
     Storage: [40] GB

4. Services to Deploy:
   [âœ“] core (Postgres, Redis, Keycloak)
   [âœ“] apps (Nextcloud, Gitea, Mattermost)
   [âœ“] monitoring (Prometheus, Grafana)
   [âœ“] ops (Portainer, Uptime Kuma)
   [ ] vpn (WireGuard)
   [ ] mail (Mailu + SMTP)
   [ ] edms (Mayan EDMS)

5. Options:
   [ ] Enable HA mode
   [ ] Enable monitoring alerts
   [ ] Enable backup automation
   [ ] Enable Cloudflare Tunnel

6. Summary:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ DEPLOYMENT PLAN                 â”‚
   â”‚                                 â”‚
   â”‚ Deployment: Kubernetes/Proxmox  â”‚
   â”‚ Profile: Medium                 â”‚
   â”‚ Total Resources:                â”‚
   â”‚   CPU: 10 cores                 â”‚
   â”‚   RAM: 20 GB                    â”‚
   â”‚   Storage: 170 GB               â”‚
   â”‚                                 â”‚
   â”‚ Services:                       â”‚
   â”‚   â€¢ PostgreSQL (8GB)            â”‚
   â”‚   â€¢ Redis (2GB)                 â”‚
   â”‚   â€¢ Keycloak (1.5GB)            â”‚
   â”‚   â€¢ Nextcloud (2GB)             â”‚
   â”‚   â€¢ Gitea (1.5GB)               â”‚
   â”‚   â€¢ Mattermost (2GB)            â”‚
   â”‚   â€¢ Grafana (1GB)               â”‚
   â”‚   â€¢ Prometheus (1GB)            â”‚
   â”‚   â€¢ Caddy (0.5GB)               â”‚
   â”‚                                 â”‚
   â”‚ Estimated monthly cost: $120    â”‚
   â”‚ (on Hetzner/DigitalOcean)       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Proceed? [Yes/No] â†’ 
```

### 3. Terraform Generator
**Ğ¤Ğ°Ğ¹Ğ»:** `scripts/generate-terraform-config.ps1`

Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ `terraform/environments/{profile}.tfvars`:

```hcl
# terraform/environments/medium.tfvars

# Proxmox Connection
proxmox_api_url  = "https://192.168.1.5:8006/api2/json"
proxmox_node     = "proxmox-01"
proxmox_storage  = "local"
template_name    = "debian-12-cloudinit"

# Environment
environment  = "production"
domain       = "ceres"

# Core VM
core_vm_ip       = "192.168.1.10"
core_vm_cores    = 4
core_vm_sockets  = 1
core_vm_memory   = 8192
core_vm_disk     = 50

# Apps VM
apps_vm_ip       = "192.168.1.11"
apps_vm_cores    = 4
apps_vm_sockets  = 1
apps_vm_memory   = 8192
apps_vm_disk     = 80

# Edge VM
edge_vm_ip       = "192.168.1.12"
edge_vm_cores    = 2
edge_vm_sockets  = 1
edge_vm_memory   = 4096
edge_vm_disk     = 40

# Network
network_gateway  = "192.168.1.1"
network_dns      = ["8.8.8.8", "8.8.4.4"]

# Optional features
enable_ha        = false
enable_vpn       = false
```

### 4. Docker Compose Resource Adjuster
**Ğ¤Ğ°Ğ¹Ğ»:** `scripts/generate-docker-resources.ps1`

ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ `config/compose/*.yml` Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°Ğ¼Ğ¸:

```yaml
# config/compose/apps.yml (Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸)

postgres:
  deploy:
    resources:
      limits:
        cpus: '1.5'         # â† Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾ Ğ¸Ğ· total
        memory: 2G          # â† Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾ Ğ¸Ğ· total
      reservations:
        cpus: '1.0'
        memory: 1G

keycloak:
  deploy:
    resources:
      limits:
        cpus: '1.5'
        memory: 1.5G
      reservations:
        cpus: '0.75'
        memory: 1G
```

### 5. Environment Generator
**Ğ¤Ğ°Ğ¹Ğ»:** `scripts/generate-env-config.ps1`

Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ `config/.env`:

```dotenv
# ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

DOMAIN=ceres
DEPLOYMENT_TYPE=kubernetes
DEPLOYMENT_PROFILE=medium
TOTAL_VMS=3

# Postgres (Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾)
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=2GB
POSTGRES_WORK_MEM=10MB

# Keycloak (Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾)
KEYCLOAK_JVM_OPTS=-Xms512m -Xmx1g
KEYCLOAK_INITIAL_ADMIN_PASSWORD=<generated>

# Resource limits
NEXTCLOUD_MAX_UPLOAD=512M
GITEA_MAX_BODY_SIZE=512M
```

---

## ğŸ“ˆ MATRIX: ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ â†’ Ğ ĞµÑÑƒÑ€ÑÑ‹ â†’ Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹

### Mapping: Profile â†’ VM Configuration

| Profile | VMs | Core CPU | Core RAM | Apps CPU | Apps RAM | Edge CPU | Edge RAM | Total | Use Case |
|---------|-----|----------|----------|----------|----------|----------|----------|-------|----------|
| Small | 1 | 8 | 16 | - | - | - | - | 8C/16GB | Dev/PoC |
| Small | 2 | 4 | 8 | 4 | 8 | - | - | 8C/16GB | Small team |
| Medium | 3 | 4 | 8 | 4 | 8 | 2 | 4 | 10C/20GB | Standard |
| Large | 4 | 6 | 16 | 4 | 8 | 4 | 8 | 14C/32GB | Enterprise |
| Large HA | 5 | 6 | 16 | 6 | 16 | 4 | 8 | 16C/40GB | HA/SLA99.9 |

### Mapping: Profile â†’ Services

| Service | Small (1VM) | Small (2VM) | Medium (3VM) | Large (4VM) | Large HA (5VM) |
|---------|:-----------:|:-----------:|:------------:|:----------:|:-----:|
| Postgres | Core | Core | Core | Core Primary | Core Primary |
| Redis | Core | Core | Core | Core | Core |
| Keycloak | Apps | Apps | Core | Core (HA) | Core (HA) |
| Nextcloud | Apps | Apps | Apps | Apps | Apps |
| Gitea | Apps | Apps | Apps | Apps | Apps |
| Mattermost | Apps | Apps | Apps | Apps | Apps |
| Redmine | Apps | Apps | Apps | Apps | Apps |
| Wiki.js | Apps | Apps | Apps | Apps | Apps |
| Prometheus | Ops | Edge | Edge | Edge | Edge |
| Grafana | Ops | Edge | Edge | Edge | Edge |
| Caddy | Apps | Edge | Edge | Edge | Edge |
| Loki | - | - | Edge (opt) | Edge | Edge |
| WireGuard | - | - | Edge (opt) | Edge (opt) | Edge |
| Mayan EDMS | - | - | - | Separate VM (opt) | Separate VM (opt) |

---

## ğŸ”„ WORKFLOW: ĞÑ‚ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğº Ğ´ĞµĞ¿Ğ»Ğ¾Ñ

```
User Action                    System Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Run configure-ceres.ps1 â”€â”€â†’ Analyze system resources
                              â”‚
                              â”œâ”€ Show recommendations
                              â”‚
2. Choose profile â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Calculate requirements
                              â”‚
3. Customize (opt.) â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Validate configuration
                              â”‚
4. Confirm deployment plan â”€â”€â†’ Generate all configs:
                              â”‚
                              â”œâ”€ terraform/environments/{profile}.tfvars
                              â”œâ”€ terraform.auto.tfvars (symlink)
                              â”œâ”€ config/.env
                              â”œâ”€ config/compose/*.yml (adjusted)
                              â””â”€ DEPLOYMENT_PLAN.json (for reference)
                              â”‚
5. Run DEPLOY.ps1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Execute Terraform + Ansible
                              â”‚
                              â””â”€ Platform ready âœ“
```

---

## ğŸ“ ĞĞĞ’ĞĞ¯ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¤ĞĞ™Ğ›ĞĞ’

```
scripts/
â”œâ”€â”€ analyze-resources.ps1              â† NEW: Analyze system
â”œâ”€â”€ configure-ceres.ps1                â† NEW: Interactive wizard
â”œâ”€â”€ generate-terraform-config.ps1      â† NEW: Generate tfvars
â”œâ”€â”€ generate-docker-resources.ps1      â† NEW: Adjust compose limits
â”œâ”€â”€ generate-env-config.ps1            â† NEW: Generate .env
â”œâ”€â”€ _lib/
â”‚   â”œâ”€â”€ Ceres.ps1
â”‚   â”œâ”€â”€ Resource-Profiles.ps1          â† NEW: Profile definitions
â”‚   â”œâ”€â”€ Config-Validation.ps1          â† NEW: Validation logic
â”‚   â””â”€â”€ Config-Generation.ps1          â† NEW: Generation helpers
â”‚
â”œâ”€â”€ start.ps1                          â† UPDATED: Call generator first
â””â”€â”€ ...

config/
â”œâ”€â”€ .env.example
â”œâ”€â”€ .env                               â† Auto-generated
â”œâ”€â”€ profiles/                          â† NEW: Profile definitions
â”‚   â”œâ”€â”€ small.json
â”‚   â”œâ”€â”€ medium.json
â”‚   â””â”€â”€ large.json
â”‚
â”œâ”€â”€ compose/
â”‚   â”œâ”€â”€ *.yml                          â† Auto-adjusted with resources
â”‚   â””â”€â”€ ...

terraform/
â”œâ”€â”€ main.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ outputs.tf
â”œâ”€â”€ environments/                      â† NEW: Profile-specific
â”‚   â”œâ”€â”€ small.tfvars
â”‚   â”œâ”€â”€ medium.tfvars
â”‚   â”œâ”€â”€ large.tfvars
â”‚   â””â”€â”€ custom.tfvars
â”œâ”€â”€ terraform.auto.tfvars              â† NEW: Symlink to selected profile
â””â”€â”€ ...

docs/
â”œâ”€â”€ RESOURCE_ALLOCATION_GUIDE.md       â† NEW: User guide
â”œâ”€â”€ PROFILE_SELECTION.md               â† NEW: How to choose
â””â”€â”€ ...
```

---

## ğŸ¯ BEST PRACTICES

### 1. Profile Definitions
âœ… **Store in JSON** for easy parsing
âœ… **Version profiles** (v1.0, v2.0) as requirements change
âœ… **Include cost estimates** (for cloud)
âœ… **Validate against real Proxmox** resources

### 2. Resource Limits
âœ… **Use reservation + limit** pattern (Docker)
âœ… **Leave 20% headroom** for system
âœ… **Set per-container limits**, not just total
âœ… **Monitor and adjust** based on metrics

### 3. Configuration Generation
âœ… **Make idempotent** (can run multiple times safely)
âœ… **Create backups** of old configs before overwriting
âœ… **Validate generated configs** before use
âœ… **Log what changed** for troubleshooting

### 4. User Experience
âœ… **Sensible defaults** (no required questions)
âœ… **Show impact visually** (ASCII art, JSON preview)
âœ… **Allow easy undo** (git-like revert)
âœ… **Provide estimate** (time, cost, resources)

### 5. Documentation
âœ… **Link from QUICKSTART to configure-ceres.ps1**
âœ… **Include examples** for each profile
âœ… **Show before/after** configs
âœ… **Explain trade-offs** (Small vs Medium)

---

## ğŸ“Š EXAMPLE: Small Profile Selection

**User runs:**
```powershell
.\scripts\configure-ceres.ps1
```

**Wizard shows:**
```
âœ“ System Analysis
  â””â”€ 16 CPU, 32 GB RAM, 500 GB Storage detected

1. Select Deployment Type:
   â—‹ Docker Compose (local dev)
   â—‹ Proxmox + Kubernetes (production)
   â†’ [Proxmox + Kubernetes]

2. Select Profile (or customize):
   â—‹ Small (1-2 VMs, basic setup)
   â—‹ Medium (3 VMs, standard) â† RECOMMENDED â˜…
   â—‹ Large (4+ VMs, HA)
   â—‹ Custom (define own)
   â†’ [Small]

3. Customize Small Profile:
   Keep defaults? [Yes/No] â†’ [Yes]

4. Review Plan:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ DEPLOYMENT PLAN              â”‚
   â”‚ Profile: Small               â”‚
   â”‚ VMs: 2                       â”‚
   â”‚                              â”‚
   â”‚ VM1 (Compute):               â”‚
   â”‚   IP: 192.168.1.10           â”‚
   â”‚   CPU: 4 cores               â”‚
   â”‚   RAM: 8 GB                  â”‚
   â”‚   Disk: 50 GB                â”‚
   â”‚   Services: Postgres, Redis, â”‚
   â”‚             Keycloak         â”‚
   â”‚                              â”‚
   â”‚ VM2 (Apps+Edge):             â”‚
   â”‚   IP: 192.168.1.11           â”‚
   â”‚   CPU: 4 cores               â”‚
   â”‚   RAM: 8 GB                  â”‚
   â”‚   Disk: 80 GB                â”‚
   â”‚   Services: Nextcloud, Gitea â”‚
   â”‚             Caddy, Grafana   â”‚
   â”‚                              â”‚
   â”‚ Total: 8 CPU, 16 GB, 130 GB  â”‚
   â”‚ Est. time: 20 minutes        â”‚
   â”‚ Est. monthly cost: $80       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Proceed? [Yes/No] â†’ [Yes]

5. Generating Configs...
   âœ“ terraform/environments/small.tfvars
   âœ“ config/.env
   âœ“ config/compose/apps.yml (adjusted)
   âœ“ DEPLOYMENT_PLAN.json
   
   âœ“ All configs ready!

6. Next Steps:
   1. Review DEPLOYMENT_PLAN.json
   2. Run: .\DEPLOY.ps1
   3. Follow on-screen prompts
```

---

## ğŸš€ IMPLEMENTATION TIMELINE

**Phase 1: MVP (Week 1-2)**
- [ ] `analyze-resources.ps1` â€” basic local + Proxmox detection
- [ ] `Resource-Profiles.ps1` â€” define Small/Medium/Large
- [ ] `configure-ceres.ps1` â€” simple wizard (preset only)
- [ ] `generate-terraform-config.ps1` â€” tfvars generation

**Phase 2: Enhancement (Week 3-4)**
- [ ] `generate-docker-resources.ps1` â€” resource adjustment
- [ ] `generate-env-config.ps1` â€” env generation
- [ ] `Config-Validation.ps1` â€” validation logic
- [ ] Integration with `start.ps1` and `DEPLOY.ps1`

**Phase 3: Polish (Week 5-6)**
- [ ] Custom profile support
- [ ] Cost estimation
- [ ] Web UI (optional, Vue.js)
- [ ] Documentation & examples

---

## âœ… SUCCESS CRITERIA

- [ ] New user can configure CERES in < 5 minutes
- [ ] Generated configs are valid and tested
- [ ] Resource allocation matches actual workload
- [ ] No manual editing of .env/tfvars needed
- [ ] Profiles can be switched easily
- [ ] Backward compatible with existing deployments
