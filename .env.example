# Ceres Platform - Environment Configuration
# Copy this file to .env and fill in your actual values

# Proxmox/Server Configuration
DEPLOY_SERVER_IP=192.168.1.3
DEPLOY_SERVER_USER=root
DEPLOY_SERVER_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Kubernetes Cluster IPs
K3S_CORE_IP=192.168.1.10
K3S_APPS_IP=192.168.1.11
K3S_EDGE_IP=192.168.1.12

# Proxmox API
PROXMOX_API_URL=https://192.168.1.3:8006/api2/json
PROXMOX_API_TOKEN_ID=CHANGE_ME
PROXMOX_API_TOKEN_SECRET=CHANGE_ME

# GitHub Configuration (for GitOps)
GITHUB_TOKEN=CHANGE_ME_GITHUB_PAT
GITHUB_USER=your-github-username
GITHUB_REPO=Ceres

# Domain Configuration
DOMAIN=ceres.local

# ============================================================================
# DATABASE CREDENTIALS
# ============================================================================
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_24_CHARS
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_24_CHARS

# ============================================================================
# APPLICATION CREDENTIALS
# ============================================================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

NEXTCLOUD_ADMIN=admin
NEXTCLOUD_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

GITLAB_OIDC_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS
GITLAB_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

MM_OIDC_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

REDMINE_OIDC_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS
REDMINE_SECRET_KEY=CHANGE_ME_RANDOM_STRING_64_CHARS

WIKIJS_OIDC_SECRET=CHANGE_ME_RANDOM_STRING_32_CHARS

# ============================================================================
# SMTP Configuration (for email notifications across all services)
# ============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@${DOMAIN}

# ============================================================================
# VPN Configuration (optional)
# ============================================================================
WG_HOST=vpn.${DOMAIN}
WG_EASY_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ============================================================================
# INTEGRATION SETTINGS
# ============================================================================

# Keycloak OIDC Provider (auto-discovered by other services)
OIDC_PROVIDER=http://keycloak:8080/auth/realms/master
OIDC_DISCOVERY_ENDPOINT=${OIDC_PROVIDER}/.well-known/openid-configuration

# Service Integration URLs (internal Docker network)
KEYCLOAK_INTERNAL_URL=http://keycloak:8080
GITLAB_INTERNAL_URL=http://gitlab:80
NEXTCLOUD_INTERNAL_URL=http://nextcloud:80
MATTERMOST_INTERNAL_URL=http://mattermost:8000
REDMINE_INTERNAL_URL=http://redmine:3000
WIKIJS_INTERNAL_URL=http://wikijs:3000

# Redis Cache Settings
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# PostgreSQL Settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres

# ============================================================================
# Cloudflare Tunnel (optional, for external access)
# ============================================================================
CLOUDFLARED_TOKEN=

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
PROMETHEUS_RETENTION=15d
LOKI_RETENTION=720h
ELK_RETENTION=30d