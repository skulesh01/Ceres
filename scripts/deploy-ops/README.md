# Deploy Ops Helper

Шаблонные скрипты для деплоя в k8s, смоук-тестов и автопровижена арендатора. Параметры передаются через переменные окружения.

## Переменные
- `K8S_MANIFEST_PATH` — путь к манифестам на сервере (для kubectl apply), пример: `/srv/ceres/k8s`.
- `REMOTE_KUBECONFIG` — путь к kubeconfig на сервере (если деплой выполняется по SSH-команде), по умолчанию `~/.kube/config`.
- `TENANT_NAME` — имя арендатора для автопровижена (опционально).
- `TENANT_DOMAIN` — домен арендатора (опционально).

## Примеры (локально, выполняя на удалённом сервере через SSH)
```bash
# применить манифесты k8s
./deploy-k8s.sh /srv/ceres/k8s

# смоук-тесты после деплоя
./smoke.sh

# создать первого арендатора
TENANT_NAME=acme TENANT_DOMAIN=acme.example.com ./provision-tenant.sh
```

## Примечание
Скрипты не содержат доступов — их нужно передавать через SSH-инструменты (см. scripts/remote-ops) или выполнять прямо на сервере.
