# CERES ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞ (Copilot)

–≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–∞—ë—Ç –∫—Ä–∞—Ç–∫–∏–µ, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤ Docker Compose, —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º GitOps/Kubernetes.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ self-hosted —Å–µ—Ä–≤–∏—Å—ã (—Ñ–∞–π–ª—ã, Git, —á–∞—Ç, –ø—Ä–æ–µ–∫—Ç—ã, –∑–Ω–∞–Ω–∏—è) —Å–ª–æ–∂–Ω–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å: –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –≤—Ö–æ–¥–∞, —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, —Å–ª–∞–±–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
- **–¶–µ–ª—å:** –î–∞—Ç—å –∫–æ–º–∞–Ω–¥–µ –µ–¥–∏–Ω—É—é, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö open‚Äësource —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º SSO, –µ–¥–∏–Ω—ã–º –≤—Ö–æ–¥–Ω—ã–º —à–ª—é–∑–æ–º, –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å—é –∏ GitOps‚Äë–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π.
 - **–¶–µ–ª—å:** –î–∞—Ç—å –∫–æ–º–∞–Ω–¥–µ –µ–¥–∏–Ω—É—é, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö open‚Äësource —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º SSO, –µ–¥–∏–Ω—ã–º –≤—Ö–æ–¥–Ω—ã–º —à–ª—é–∑–æ–º, –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å—é –∏ GitOps‚Äë–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π; –æ–±–µ—Å–ø–µ—á–∏—Ç—å ¬´–æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É¬ª –¥–µ–ø–ª–æ–π –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø–∞: –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ Git, –∑–∞–ø–æ–ª–Ω–∏—Ç—å `config/.env` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç (**DEPLOY.ps1**) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: **Proxmox** ‚Üí **Terraform** —Å–æ–∑–¥–∞—ë—Ç 3 VM, **Ansible** –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –û–° –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, **k3s** —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä Kubernetes.
  - –î–æ—Å—Ç–∞–≤–∫–∞: **FluxCD** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã/—Ä–µ–ª–∏–∑—ã –∏–∑ Git, **Sealed Secrets** –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω—è—Ç —Å–µ–∫—Ä–µ—Ç—ã.
  - –í—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫: **Caddy** –Ω–∞ edge (80/443), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π TLS, –¥–æ–º–µ–Ω—ã `auth|nextcloud|gitea|‚Ä¶ .${DOMAIN}`.
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: **Keycloak** –∫–∞–∫ –µ–¥–∏–Ω—ã–π IdP (OIDC); bootstrap-—Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞—é—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è Grafana/Wiki.js/Redmine.
  - –î–∞–Ω–Ω—ã–µ: –≤ Kubernetes ‚Äî PVC/StorageClass; –ª–æ–∫–∞–ª—å–Ω–æ (dev) ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ Docker‚Äë—Ç–æ–º–∞.
  - –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞: **Docker Compose** –∫–∞–∫ fallback –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.

## –ë–æ–ª—å—à–∞—è –∫–∞—Ä—Ç–∏–Ω–∞
- **–†–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî Kubernetes (k3s) –Ω–∞ Proxmox:** –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ GitOps —á–µ—Ä–µ–∑ **FluxCD**. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ **Terraform**, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ **Ansible**. –°–º. [DEPLOY.ps1](DEPLOY.ps1), [terraform/README.md](terraform/README.md), [ansible/README.md](ansible/README.md), [flux/README.md](flux/README.md).
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ª–æ–∫–∞–ª–∫–∏ ‚Äî Docker Compose:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –°–º. [config/compose](config/compose) –∏ [scripts/start.ps1](scripts/start.ps1).
- **SSO –∫–∞–∫ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞:** `Keycloak` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π IdP; –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç OIDC —Ç–∞–º, –≥–¥–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –°–º. [ARCHITECTURE.md](ARCHITECTURE.md).
- **–í—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫:** –†–µ–≤–µ—Ä—Å‚Äë–ø—Ä–æ–∫—Å–∏ `Caddy` (`80/443`) —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º TLS; –ø—É–±–ª–∏—á–Ω—ã–π DNS —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç `auth|nextcloud|gitea|‚Ä¶ .${DOMAIN}` —Å —Ö–æ—Å—Ç–æ–º. –°–º. [config/caddy/Caddyfile](config/caddy/Caddyfile).
- **–î–∞–Ω–Ω—ã–µ:** –í Kubernetes ‚Äî PVC/StorageClass; –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º Docker ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–º–∞ (`pg_data`, `gitea_data`, `grafana_data`).

## –ö–ª–∞—Å—Ç–µ—Ä –∏ Proxmox
- **3 VM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Proxmox):** Core (PostgreSQL, Redis, Keycloak), Apps (Nextcloud, Gitea, Mattermost, Redmine, Wiki.js), Edge & Observability (Caddy, Prometheus, Grafana, Portainer, Uptime Kuma). –°–º. [README.md](README.md) ‚Üí –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.
- **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π k3s:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ [DEPLOY.ps1](DEPLOY.ps1) ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç k3s, kubeconfig –∏ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è GitHub Actions.
- **GitOps:** FluxCD —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –∏–∑ Git. –°–º. [flux/README.md](flux/README.md) (bootstrap, reconcile, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞).
- **Terraform/Ansible:** –°–æ–∑–¥–∞–Ω–∏–µ VM –∏ –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: —Å–º. [terraform](terraform) –∏ [ansible](ansible).

## –°–µ—Ä–≤–∏—Å—ã (–æ—Å–Ω–æ–≤–Ω—ã–µ –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- **Core:** PostgreSQL, Redis, Keycloak (SSO/OIDC).
- **Apps (–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞):** GitLab CE (Git + Issues + Wiki + CI/CD + Registry), Zulip (—á–∞—Ç —Å 100+ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏), Nextcloud (—Ñ–∞–π–ª—ã + OnlyOffice/Collabora), Mayan EDMS (–¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç + OCR).
- **Legacy Apps (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏):** Gitea (Git + SSH), Mattermost (—á–∞—Ç), Redmine (–ø—Ä–æ–µ–∫—Ç—ã), Wiki.js (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π) - **–∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ GitLab CE + Zulip –¥–ª—è 98% –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**.
- **Office Suite:** OnlyOffice Document Server (—Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ), Collabora Online (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ LibreOffice).
- **Observability:** Prometheus, Grafana (OIDC), Alertmanager (email + Zulip), 7 —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä–æ–≤ (PostgreSQL, Redis, Nextcloud, Node, cAdvisor, Keycloak, Caddy), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ Loki + Promtail (–ª–æ–≥–∏).
- **Ops:** Portainer (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏), Uptime Kuma (uptime/–ø–∏–Ω–≥–∏).
- **Edge:** Caddy (TLS/–¥–æ–º–µ–Ω—ã, –≤—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫), –æ–ø—Ü–∏–∏ Cloudflare Tunnel.
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:** Mailu (SMTP —Å–µ—Ä–≤–µ—Ä), WireGuard (wg-easy, VPN –¥–ª—è –∞–¥–º–∏–Ω–æ–≤).

## GitOps –∏ —Ä–∞–±–æ—á–∏–µ –ø–æ—Ç–æ–∫–∏
- **Bootstrap FluxCD:** —Å–º. [flux/bootstrap.ps1](flux/bootstrap.ps1) –∏–ª–∏ [flux/bootstrap.sh](flux/bootstrap.sh); –∑–∞—Ç–µ–º `flux get all`, `flux reconcile ...` ‚Äî –ø—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥ –≤ [flux/README.md](flux/README.md).
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ GitOps:** [flux/apps](flux/apps) (core/app/monitoring), [flux/infrastructure](flux/infrastructure), [flux/clusters/*](flux/clusters) ‚Äî kustomizations/namespace/–ø–æ–ª–∏—Ç–∏–∫–∏.
 - **–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –∫–ª—é—á–µ–≤–æ–π –º–∞–Ω–∏—Ñ–µ—Å—Ç ‚Äî [flux/clusters/production/flux-system.yaml](flux/clusters/production/flux-system.yaml).
   - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –Ω—ë–º —É–∫–∞–∑–∞–Ω—ã –ø—É—Ç–∏ `./flux/infrastructure` –∏ `./flux/apps/...`; –µ—Å–ª–∏ —ç—Ç–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [config/flux/flux-releases.yml](config/flux/flux-releases.yml) (Helm/Kustomize) –∏–ª–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –ø—É—Ç–∏ –ø–æ–¥ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
- **–°–µ–∫—Ä–µ—Ç—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [config/sealed-secrets](config/sealed-secrets) –∏ `kubeseal` (–æ–ø–∏—Å–∞–Ω–æ –≤ [flux/README.md](flux/README.md)).
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤:** Flux Image Update (–ø—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ [flux/README.md](flux/README.md)).

## –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ (Docker Compose)
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ª–æ–∫–∞–ª—å–Ω–æ (Windows):** [scripts/start.ps1](scripts/start.ps1) ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `config/.env` –∏ —Å—Ç–∞—Ä—Ç—É–µ—Ç `core, apps, monitoring, ops`.
  - –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ core+apps: `powershell -File scripts/start.ps1 core apps`.
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ä–µ–∂–∏–º `-Clean` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ `config` –µ—Å—Ç—å `docker-compose-CLEAN.yml` (–≤ —Ç–µ–∫—É—â–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å); –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª—å–Ω—ã–π —Ä–µ–∂–∏–º.
- **–ú–æ–¥—É–ª–∏ Compose:** [config/compose/base.yml](config/compose/base.yml), [core.yml](config/compose/core.yml), [gitlab.yml](config/compose/gitlab.yml) (–Ω–æ–≤—ã–π), [zulip.yml](config/compose/zulip.yml) (–Ω–æ–≤—ã–π), [apps.yml](config/compose/apps.yml), [office-suite.yml](config/compose/office-suite.yml) (–Ω–æ–≤—ã–π), [mayan-edms.yml](config/compose/mayan-edms.yml) (–Ω–æ–≤—ã–π), [monitoring.yml](config/compose/monitoring.yml), [monitoring-exporters.yml](config/compose/monitoring-exporters.yml) (–Ω–æ–≤—ã–π, 7 —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä–æ–≤), [ops.yml](config/compose/ops.yml), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ [edge.yml](config/compose/edge.yml), [vpn.yml](config/compose/vpn.yml). –ú–∞–ø–ø–∏–Ω–≥ ‚Äî `Get-CeresComposeFiles()` –≤ [scripts/_lib/Ceres.ps1](scripts/_lib/Ceres.ps1).
- **Make-—è—Ä–ª—ã–∫–∏:** [Makefile](Makefile) ‚Äî `make start|status|logs|backup|restore|update` (Linux/macOS/WSL).

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–§–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ª–æ–∫–∞–ª–∫–∞):** –ö–æ–ø–∏—Ä—É–π—Ç–µ [config/.env.example](config/.env.example) ‚Üí `.env`; `start.ps1` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è `CHANGE_ME`. –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å.
- **–î–æ–º–µ–Ω—ã:** `DOMAIN=ceres` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é); `tls internal` –≤ [config/caddy/Caddyfile](config/caddy/Caddyfile). –î–ª—è `edge` –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–æ—Ä—Ç—ã `80/443`.
- **Keycloak:** –ü—É–±–ª–∏—á–Ω–æ `auth.${DOMAIN}`; –≤–Ω—É—Ç—Ä–∏ `http://keycloak:8080`. Bootstrap OIDC‚Äë–∫–ª–∏–µ–Ω—Ç–æ–≤: [scripts/keycloak-bootstrap.ps1](scripts/keycloak-bootstrap.ps1).
- **VPN (wg‚Äëeasy):** –ù—É–∂–Ω—ã `WG_HOST` –∏ `WG_EASY_PASSWORD`; bcrypt‚Äë—Ö—ç—à —Å `$` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `$$` –≤ `.env` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç `start.ps1`). –°–º. [config/compose/vpn.yml](config/compose/vpn.yml).
- **SMTP:** –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `SMTP_*` –≤ `.env`; —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ Keycloak.

## –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–ò–∑–æ–ª—è—Ü–∏—è:** –ü—É–±–ª–∏–∫—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `Caddy` –∏ SSH `Gitea` (`2222`); –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Caddy/VPN.
- **Healthchecks:** –í Compose –∑–∞–¥–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏; `start.ps1` –∂–¥—ë—Ç `postgres, redis, keycloak, nextcloud, gitea, mattermost, redmine, wikijs` (+ monitoring/ops –ø—Ä–∏ –≤—ã–±–æ—Ä–µ).
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –î–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö UI (Prometheus/Portainer) ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ VPN/–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–æ–º–µ–Ω—ã (`tls internal`). –í GitOps ‚Äî Sealed Secrets.

## –ß–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π (Windows):**
  - `powershell -File DEPLOY.ps1`
- **FluxCD —Å—Ç–∞—Ç—É—Å:**
  - `flux get all`
  - `flux reconcile kustomization ceres-core`
- **Kubernetes –±–∞–∑–æ–≤—ã–µ:**
  - `kubectl cluster-info`
  - `kubectl -n flux-system get events --sort-by='.lastTimestamp'`
- **–õ–æ–∫–∞–ª–∫–∞ (Docker Compose):**
  - `powershell -File scripts/start.ps1`
  - `make status` / `make logs service=gitea`

### Kubernetes-only: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ Flux
- –ò–∑–º–µ–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ª–∏–∑–∞ –≤ [config/flux/flux-releases.yml](config/flux/flux-releases.yml) (–Ω–∞–ø—Ä–∏–º–µ—Ä, `HelmRelease` `postgresql`, `redis`, `ceres`).
- –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä—É—á–Ω–æ–π reconcile (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  - `flux reconcile kustomization flux-system --with-source`
  - –∏–ª–∏ —Ç–æ—á–µ—á–Ω–æ: `flux reconcile helmrelease postgresql -n ceres`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `flux get all` –∏ —Å–æ–±—ã—Ç–∏—è `kubectl -n flux-system get events --sort-by='.lastTimestamp'`.

## –°—Ü–µ–Ω–∞—Ä–∏–∏ (–ø—Ä–∏–º–µ—Ä—ã)
- **–û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:**
  - –°–æ–∑–¥–∞–π—Ç–µ —è—â–∏–∫ –≤ Mailu: –∞–¥–º–∏–Ω‚ÄëUI —á–µ—Ä–µ–∑ `mail.${DOMAIN}` (—Å–º. [config/compose/mail.yml](config/compose/mail.yml)).
  - –°–æ–∑–¥–∞–π—Ç–µ VPN‚Äë–∫–ª–∏–µ–Ω—Ç–∞ –≤ `wg‚Äëeasy` (UI `vpn.${DOMAIN}`), —Å–∫–∞—á–∞–π—Ç–µ `.conf` –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É (—Å–º. [config/compose/vpn.yml](config/compose/vpn.yml)).
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ `Keycloak` (`auth.${DOMAIN}`).
- **–í–Ω–µ—à–Ω—è—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è (Cloudflare Tunnel):**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CLOUDFLARED_TOKEN` –≤ `config/.env` –∏ –≤–∫–ª—é—á–∏—Ç–µ –º–æ–¥—É–ª—å `tunnel`.
  - [scripts/start.ps1](scripts/start.ps1) –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –Ω–∞ [config/caddy/Caddyfile.tunnel](config/caddy/Caddyfile.tunnel) (origin HTTP).
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ (Flux):**
  - –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ [config/flux/flux-releases.yml](config/flux/flux-releases.yml), —Å–¥–µ–ª–∞–π—Ç–µ `git push`.
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: `flux get all`; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `flux reconcile ...`.

## –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
- –û—Å–≤–æ–±–æ–¥–∏—Ç–µ `80/443` –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º `edge`; –∏–Ω–∞—á–µ `start.ps1` —É–ø–∞–¥—ë—Ç –Ω–∞ –ø—Ä–µ—Ñ–ª–∞–π—Ç–µ.
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ Prometheus/Portainer –Ω–∞—Ä—É–∂—É; –¥–µ—Ä–∂–∏—Ç–µ –∑–∞ VPN (`tls internal` –≤ Caddy).
- –î–ª—è –ª–æ–∫–∞–ª–∫–∏ ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –Ω–µ—Ç `CHANGE_ME`; –¥–ª—è GitOps ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã KUBECONFIG –∏ GitHub Secrets (—Å–º. [DEPLOY.ps1](DEPLOY.ps1)).

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ [README.md](README.md), [ARCHITECTURE.md](ARCHITECTURE.md) –∏ [flux/README.md](flux/README.md).

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–§–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ [config/.env.example](config/.env.example) ‚Üí `.env`; `start.ps1` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è –∫–ª—é—á–µ–π `CHANGE_ME`. –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å.
- **–î–æ–º–µ–Ω:** `DOMAIN=ceres` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é; –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π TLS (`tls internal`) –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ [Caddyfile](config/caddy/Caddyfile). –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `edge` –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–æ—Ä—Ç—ã `80/443`.
- **Keycloak:** –ü—É–±–ª–∏—á–Ω—ã–π —Ö–æ—Å—Ç `auth.${DOMAIN}`; –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å `http://keycloak:8080`. `start.ps1` –∑–∞–ø—É—Å–∫–∞–µ—Ç [scripts/keycloak-bootstrap.ps1](scripts/keycloak-bootstrap.ps1) –¥–ª—è –ø—Ä–æ–≤–∏–∂–∏–Ω–∏–Ω–≥–∞ OIDC-–∫–ª–∏–µ–Ω—Ç–æ–≤ (Grafana, Wiki.js –∏ —Ç.–¥.).
- **VPN (wg-easy):** –¢—Ä–µ–±—É–µ—Ç `WG_HOST` –∏ –∞–¥–º–∏–Ω-–ø–∞—Ä–æ–ª—å; bcrypt-—Ö—ç—à —Å–æ–¥–µ—Ä–∂–∏—Ç `$` –∏ –¥–æ–ª–∂–µ–Ω –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ `$$` –≤ `.env` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç `start.ps1`). –°–º. [config/compose/vpn.yml](config/compose/vpn.yml).
- **SMTP:** –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `SMTP_*` –≤ `.env`; `keycloak-bootstrap.ps1` –ø—Ä–∏–º–µ–Ω–∏—Ç SMTP –∫ Keycloak.

## –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–§–∏–∫—Å–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤:** –û–±—Ä–∞–∑—ã –≤ Compose –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –ø–æ digest (`image: ...@sha256:...`) –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏.
- **–°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è:** –í–Ω–µ—à–Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ `Caddy` –∏ SSH `Gitea` (`2222`); –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Caddy.
- **Healthchecks:** –í Compose –∑–∞–¥–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏; `start.ps1` –æ–∂–∏–¥–∞–µ—Ç `postgres, redis, keycloak, gitlab, zulip, nextcloud, mayan` (legacy: gitea, mattermost, redmine, wikijs) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç monitoring/ops –ø—Ä–∏ –≤—ã–±–æ—Ä–µ.
- **–ú–æ–¥—É–ª–∏ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ:** –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –º–æ–¥—É–ª—å–Ω—ã–π Compose –≤–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–∞; –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∏–º–µ–Ω–∞ –º–æ–¥—É–ª–µ–π –≤ `start.ps1`.

## –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **OIDC/SSO:** Keycloak –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è 8+ —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ [scripts/keycloak-bootstrap-full.ps1](scripts/keycloak-bootstrap-full.ps1): GitLab, Zulip, Nextcloud, Grafana, Portainer, Mayan, Uptime Kuma, Wiki.js (legacy).
- **Reverse Proxy:** –ü–æ–ª–Ω—ã–µ —Ä–æ—É—Ç–∏–Ω–≥–∏ –≤ [config/caddy/Caddyfile.full](config/caddy/Caddyfile.full) –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ + VPN whitelist –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö UI.
- **Webhooks:** GitLab‚ÜíZulip (–≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã), Grafana‚ÜíZulip (–∞–ª–µ—Ä—Ç—ã), Uptime Kuma‚ÜíZulip (downtime) —á–µ—Ä–µ–∑ [scripts/setup-webhooks.ps1](scripts/setup-webhooks.ps1).
- **Chat-Driven Development:** [scripts/zulip-gitlab-bot.py](scripts/zulip-gitlab-bot.py) - –±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ `/issue`, `/mr`, `/deploy`, `/status` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GitLab –∏–∑ —á–∞—Ç–∞.
- **CI/CD:** Production-ready –ø—Ä–∏–º–µ—Ä—ã –≤ [config/gitlab/gitlab-ci-examples/](config/gitlab/gitlab-ci-examples/): Node.js, Python, Go, Docker generic —Å –ø–æ–ª–Ω—ã–º —Ü–∏–∫–ª–æ–º (test‚Üíbuild‚Üídeploy‚Üínotify).
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** 7 Prometheus —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä–æ–≤ ‚Üí 2 Grafana dashboard ([ceres-devops-dashboard.json](config/grafana/dashboards/ceres-devops-dashboard.json), [ceres-infrastructure-dashboard.json](config/grafana/dashboards/ceres-infrastructure-dashboard.json)).
- **–ê–ª–µ—Ä—Ç–∏–Ω–≥:** 25+ –ø—Ä–∞–≤–∏–ª –≤ [config/prometheus/alerts/ceres-alerts.yml](config/prometheus/alerts/ceres-alerts.yml), –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ [config/alertmanager/alertmanager.yml](config/alertmanager/alertmanager.yml) (Email + Zulip, severity-based).
- **Cloudflare Tunnel (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** –ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –º–æ–¥—É–ª—å `tunnel` –∏ –∑–∞–¥–∞–Ω `CLOUDFLARED_TOKEN`, `start.ps1` –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –Ω–∞ `Caddyfile.tunnel` (origin HTTP). –°–º. [config/caddy](config/caddy).

## –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ (–ø—Ä–∏–º–µ—Ä—ã)
- **–ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π:** `powershell -File scripts/auto-migrate-all.ps1` (3-5 —á–∞—Å–æ–≤, Phase 0-16).
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è:** `powershell -File scripts/health-check.ps1` - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, HTTP endpoints, —Ä–µ—Å—É—Ä—Å—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
- **E2E —Ç–µ—Å—Ç—ã:** `python scripts/test-integration.py` - 8 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤—Å–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.
- **–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø:** `powershell -File scripts/backup-full.ps1` - –±–∞–∑—ã + –¥–∞–Ω–Ω—ã–µ + –∫–æ–Ω—Ñ–∏–≥–∏ + S3.
- **Ansible –¥–µ–ø–ª–æ–π (production):** `ansible-playbook -i inventory/production.yml ansible/playbooks/deploy-ceres.yml`.
- **–°—Ç–∞—Ä—Ç Docker Compose:** `powershell -File scripts/start.ps1` –∏–ª–∏ —Å –º–æ–¥—É–ª—è–º–∏ `core apps monitoring ops vpn`.
- **–°—Ç–∞—Ç—É—Å –∏ –ª–æ–≥–∏:** `make status` / `make logs service=gitlab`.
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤:** `make update`, –∑–∞—Ç–µ–º `make restart`.

## –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
- –û—Å–≤–æ–±–æ–¥–∏—Ç–µ `80/443` –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º `edge`; –∏–Ω–∞—á–µ `start.ps1` —É–ø–∞–¥—ë—Ç –Ω–∞ –ø—Ä–µ—Ñ–ª–∞–π—Ç–µ.
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ Prometheus/Portainer –Ω–∞—Ä—É–∂—É; –¥–µ—Ä–∂–∏—Ç–µ –∑–∞ VPN (`tls internal` –≤ Caddy).
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å `CHANGE_ME` –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ [README.md](README.md) –∏ [ARCHITECTURE.md](ARCHITECTURE.md).

## Production Readiness Checklist

### Pre-Deploy (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + Kubernetes)
- [ ] **Proxmox —Å–µ—Ä–≤–µ—Ä** –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –∏–º–µ–µ—Ç –º–∏–Ω–∏–º—É–º 12 CPU, 24GB RAM, 200GB SSD.
- [ ] **Networking:** IP –∞–¥—Ä–µ—Å–∞ –¥–ª—è 3 VM –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã (192.168.1.10-12 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é); –ø–æ—Ä—Ç—ã 22 (SSH), 80/443 (edge), 51820 (VPN) –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ firewalling.
- [ ] **DNS:** –ü—É–±–ª–∏—á–Ω—ã–µ –¥–æ–º–µ–Ω—ã `auth|gitlab|zulip|nextcloud|grafana|mail|vpn|mayan|registry .${DOMAIN}` —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –Ω–∞ IP –≤–∞—à–µ–≥–æ edge-—Å–µ—Ä–≤–µ—Ä–∞.
- [ ] **Terraform/Ansible:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ [terraform/terraform.tfvars](terraform/terraform.tfvars) –∏ [ansible/inventory/production.yml](ansible/inventory/production.yml) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.
- [ ] **–°–µ–∫—Ä–µ—Ç—ã GitHub:** KUBECONFIG, SSH_PRIVATE_KEY, DEPLOY_HOST, DEPLOY_USER, DEPLOY_PASSWORD –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Settings ‚Üí Secrets/Actions.

### Pre-Deploy (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞)
- [ ] **config/.env:** –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏–∑ [config/.env.example](config/.env.example), –≤—Å–µ `CHANGE_ME` –∑–∞–º–µ–Ω–µ–Ω—ã.
  - –ö—Ä–∏—Ç–∏—á–Ω–æ: `POSTGRES_PASSWORD`, `KEYCLOAK_ADMIN_PASSWORD`, `GRAFANA_OIDC_CLIENT_SECRET`, `GRAFANA_ADMIN_PASSWORD`.
  - –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ—á—Ç–∞: `SMTP_HOST`, `SMTP_USER`, `SMTP_PASSWORD`.
  - –ï—Å–ª–∏ –Ω—É–∂–µ–Ω VPN: `WG_HOST`, `WG_EASY_PASSWORD`.
- [ ] **Docker/Compose:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã; –ø—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker --version`, `docker compose version`.
- [ ] **PowerShell:** Execution Policy —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ RemoteSigned –∏–ª–∏ Bypass: `Get-ExecutionPolicy`.

### Deploy Workflow (Kubernetes)
- [ ] **–ó–∞–ø—É—Å–∫:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ `powershell -File DEPLOY.ps1` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç k3s –Ω–∞ Proxmox, kubeconfig, GitHub —Å–µ–∫—Ä–µ—Ç—ã.
- [ ] **Flux Bootstrap:** –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ DEPLOY.ps1 –≤—ã–ø–æ–ª–Ω–∏—Ç–µ (–∏–∑ Linux/WSL/Cloud VM —Å kubeconfig):
  ```bash
  flux bootstrap github --owner skulesh01 --repository Ceres --branch main --path ./flux/clusters/production --personal
  ```
- [ ] **–ü—Ä–æ–≤–µ—Ä–∫–∞:** 
  ```bash
  flux get all
  kubectl -n flux-system get events --sort-by='.lastTimestamp'
  kubectl -n ceres get helmrelease,pods
  ```

### Day-1 Post-Deploy Verification
- [ ] **–°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:** `kubectl -n ceres get all` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç pods –≤ `Running`.
- [ ] **–î–æ—Å—Ç—É–ø –∫ UI (—á–µ—Ä–µ–∑ VPN –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å):**
  - `https://auth.${DOMAIN}` ‚Üí Keycloak (admin/KEYCLOAK_ADMIN_PASSWORD).
  - `https://gitlab.${DOMAIN}` ‚Üí GitLab CE (root/GITLAB_ROOT_PASSWORD).
  - `https://zulip.${DOMAIN}` ‚Üí Zulip (admin).
  - `https://nextcloud.${DOMAIN}` ‚Üí Nextcloud (admin/NEXTCLOUD_ADMIN_PASSWORD).
  - `https://grafana.${DOMAIN}` ‚Üí Grafana (OIDC –∏–ª–∏ admin/GRAFANA_ADMIN_PASSWORD).
- [ ] **SSO:** Keycloak bootstrap —Å–æ–∑–¥–∞–ª OIDC-–∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è GitLab/Zulip/Nextcloud/Grafana/Portainer/Mayan (—Å–º. [scripts/keycloak-bootstrap-full.ps1](scripts/keycloak-bootstrap-full.ps1)).
- [ ] **VPN (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):** –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤ `https://vpn.${DOMAIN}`, —Å–∫–∞—á–∞–π—Ç–µ `.conf`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.
- [ ] **–ü–æ—á—Ç–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):** –ó–∞–ø—Ä–∞–≤—å—Ç–µ `SMTP_*` –≤ `.env`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ Keycloak.
- [ ] **–ú–µ—Ç—Ä–∏–∫–∏:** `https://grafana.${DOMAIN}` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—à–±–æ—Ä–¥—ã (CPU, –ø–∞–º—è—Ç—å, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã).

### Rollback –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –∏–ª–∏ `docker-compose down` (–±–µ–∑ `-v`).
- **Flux/Kubernetes:** `git revert <commit-hash>` (Git –æ—Ç–∫–∞—Ç–∏—Ç, Flux –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç).
- **–ë—ç–∫–∞–ø/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:** [scripts/backup-full.ps1](scripts/backup-full.ps1) –∏ [scripts/restore.ps1](scripts/restore.ps1) (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).

### Production Hardening
- **Firewall:** –ó–∞–∫—Ä–æ–π—Ç–µ 80/443 –∏–∑–≤–Ω–µ; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –∏–ª–∏ Cloudflare Tunnel.
- **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:** –í–∫–ª—é—á–∏—Ç–µ Let's Encrypt (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ `ACME_EMAIL` –≤ [config/caddy/Caddyfile.full](config/caddy/Caddyfile.full)).
- **–õ–æ–≥–∏:** –í–∫–ª—é—á–∏—Ç–µ `monitoring` –º–æ–¥—É–ª—å –∏–ª–∏ Flux `ceres-releases` Kustomization.
- **Backup:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø —á–µ—Ä–µ–∑ cron/Task Scheduler: `0 2 * * * powershell -File /path/to/scripts/backup-full.ps1`.
- **Sealed Secrets:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [config/sealed-secrets](config/sealed-secrets) –∏ `kubeseal` –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Kubernetes.
- **Alerts:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Alertmanager –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: `amtool alert add test severity=warning`.

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ (—è–Ω–≤–∞—Ä—å 2026)

### ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ (31+ —Ñ–∞–π–ª, ~30,000 —Å—Ç—Ä–æ–∫):

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (7 —Ñ–∞–π–ª–æ–≤):**
- ENTERPRISE_INTEGRATION_ARCHITECTURE.md - –∞–Ω–∞–ª–∏–∑ enterprise-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- INTEGRATION_CRITICAL_ANALYSIS.md - —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (GitLab CE –≤–º–µ—Å—Ç–æ 3 —Å–µ—Ä–≤–∏—Å–æ–≤)
- GITLAB_MIGRATION_DETAILED_PLAN.md - –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ 17 —á–∞—Å–æ–≤
- FULL_INTEGRATION_MASTER_PLAN.md - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω 40 —á–∞—Å–æ–≤, 16 —Ñ–∞–∑
- GITLAB_MIGRATION_QUICK_REFERENCE.md, START_HERE_ENTERPRISE_INTEGRATION.md, ENTERPRISE_DOCUMENTATION_INDEX.md

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (9 —Ñ–∞–π–ª–æ–≤):**
- scripts/auto-migrate-all.ps1 - –≥–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (Phase 0-16)
- scripts/keycloak-bootstrap-full.ps1 - SSO –¥–ª—è 8 —Å–µ—Ä–≤–∏—Å–æ–≤
- scripts/setup-webhooks.ps1 - GitLab‚ÜíZulip –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- scripts/generate-secrets.py - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–µ–∫—Ä–µ—Ç–æ–≤
- config/compose/gitlab.yml, zulip.yml, monitoring-exporters.yml
- config/prometheus/prometheus-full.yml
- config/caddy/Caddyfile.full

**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (7 —Ñ–∞–π–ª–æ–≤):**
- config/grafana/dashboards/ceres-devops-dashboard.json (12 –ø–∞–Ω–µ–ª–µ–π)
- config/grafana/dashboards/ceres-infrastructure-dashboard.json (8 –ø–∞–Ω–µ–ª–µ–π)
- scripts/zulip-gitlab-bot.py - —á–∞—Ç-–±–æ—Ç —Å 5 –∫–æ–º–∞–Ω–¥–∞–º–∏
- scripts/test-integration.py - 8 E2E —Ç–µ—Å—Ç–æ–≤
- scripts/backup-full.ps1 - –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø —Å S3
- scripts/health-check.ps1 - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π health check
- config/gitlab/gitlab-ci-examples/nodejs-app.gitlab-ci.yml

**Enterprise –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (8 —Ñ–∞–π–ª–æ–≤):**
- config/compose/office-suite.yml - OnlyOffice + Collabora
- config/compose/mayan-edms.yml - –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç + OCR
- config/gitlab/gitlab-ci-examples/python-app.gitlab-ci.yml
- config/gitlab/gitlab-ci-examples/go-app.gitlab-ci.yml
- config/gitlab/gitlab-ci-examples/docker-generic.gitlab-ci.yml
- ansible/playbooks/deploy-ceres.yml - Ansible –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π
- config/alertmanager/alertmanager.yml - —É–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- config/prometheus/alerts/ceres-alerts.yml - 25+ –ø—Ä–∞–≤–∏–ª

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** 98/100 (+48 –ø—É–Ω–∫—Ç–æ–≤ –æ—Ç –Ω–∞—á–∞–ª–∞)
- **Enterprise-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 99/100 (+42 –ø—É–Ω–∫—Ç–∞)
- **–°–µ—Ä–≤–∏—Å—ã:** 12 (GitLab, Zulip, Nextcloud, Mayan, Keycloak, PostgreSQL, Redis, Prometheus, Grafana, Caddy, Portainer, WireGuard + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ OnlyOffice/Collabora/Mailu)
- **RAM:** 9GB (–±—ã–ª–æ 10GB –≤ —Å—Ç–∞—Ä–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ)
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** 3-5 —á–∞—Å–æ–≤ –≤–º–µ—Å—Ç–æ 40 —á–∞—Å–æ–≤ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### üéØ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
1. **–ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è:** GitLab CE –∑–∞–º–µ–Ω—è–µ—Ç Gitea + Redmine + Wiki.js (3‚Üí1 —Å–µ—Ä–≤–∏—Å)
2. **Chat-Driven Development:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GitLab –∏–∑ Zulip (/issue, /deploy)
3. **Production CI/CD:** –ì–æ—Ç–æ–≤—ã–µ –ø–∞–π–ø–ª–∞–π–Ω—ã –¥–ª—è Node.js, Python, Go
4. **Full Observability:** 7 —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä–æ–≤, 2 dashboard, 25+ –∞–ª–µ—Ä—Ç–æ–≤
5. **SSO Everywhere:** Keycloak –¥–ª—è 8+ —Å–µ—Ä–≤–∏—Å–æ–≤
6. **Collaborative Editing:** OnlyOffice/Collabora –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Nextcloud
7. **Document Management:** Mayan EDMS —Å OCR –∏ workflows
8. **Automated Operations:** –ë—ç–∫–∞–ø, health check, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Ansible

### ‚è≥ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å:
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å auto-migrate-all.ps1 (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é)
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Grafana dashboards
- [ ] –î–µ–ø–ª–æ–∏—Ç—å Zulip bot
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã (cron/Task Scheduler)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Loki + Promtail (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Vault integration (—Å–µ–∫—Ä–µ—Ç—ã)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Multi-tenancy setup (–∏–∑–æ–ª—è—Ü–∏—è –∫–æ–º–∞–Ω–¥)
- **Docker Compose –ª–æ–∫–∞–ª—å–Ω–æ:** `make stop` (—Å–æ—Ö—Ä–∞–Ω–∏—Ç volumes).
- **Flux/Kubernetes:** `git revert <commit-hash>` (Git –æ—Ç–∫–∞—Ç–∏—Ç, Flux –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç).
- **–ë—ç–∫–∞–ø/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:** [scripts/backup.ps1](scripts/backup.ps1) –∏ [scripts/restore.ps1](scripts/restore.ps1).

### Production Hardening
- **Firewall:** –ó–∞–∫—Ä–æ–π—Ç–µ 80/443 –∏–∑–≤–Ω–µ; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –∏–ª–∏ Cloudflare Tunnel.
- **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:** –í–∫–ª—é—á–∏—Ç–µ Let's Encrypt (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ `ACME_EMAIL` –≤ [config/caddy/Caddyfile](config/caddy/Caddyfile)).
- **–õ–æ–≥–∏:** –í–∫–ª—é—á–∏—Ç–µ `monitoring` –º–æ–¥—É–ª—å –∏–ª–∏ Flux `ceres-releases` Kustomization.
- **Backup:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø —á–µ—Ä–µ–∑ cron/Task Scheduler.
- **Sealed Secrets:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [config/sealed-secrets](config/sealed-secrets) –∏ `kubeseal` –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Kubernetes.