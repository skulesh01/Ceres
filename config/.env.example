# .env.example – template for local run
# Copy to .env and replace ALL placeholders before use.

# -------------------------------------------------------------------
# Общие настройки
# -------------------------------------------------------------------
DOMAIN=ceres

# Optional: ACME account email for automatic HTTPS (Let's Encrypt)
# ACME_EMAIL=admin@example.com

# -------------------------------------------------------------------
# External access WITHOUT opening inbound ports (Cloudflare Tunnel)
# -------------------------------------------------------------------
# Create a Tunnel in Cloudflare Zero Trust and paste the token here.
# CLOUDFLARED_TOKEN=CHANGE_ME

# PostgreSQL password used by all services
POSTGRES_PASSWORD=CHANGE_ME

# -------------------------------------------------------------------
# Self-host VPN (WireGuard via wg-easy)
# -------------------------------------------------------------------
# Required when running module 'vpn': public IP or DNS name that employees will connect to.
# Example: WG_HOST=203.0.113.10   or   WG_HOST=vpn.example.com
WG_HOST=CHANGE_ME

# Admin UI password for wg-easy (generated automatically if missing)
WG_EASY_PASSWORD=CHANGE_ME

# Admin UI password hash for wg-easy (bcrypt). Newer wg-easy versions require this.
# You normally don't set it manually: when you run `start.ps1 ... vpn`, it will generate/update it.
# Note: bcrypt hashes contain '$' which Docker Compose tries to interpolate; the script writes it escaped as '$$'.
WG_EASY_PASSWORD_HASH=CHANGE_ME

# Optional: DNS server pushed to clients (defaults to 1.1.1.1)
# WG_DEFAULT_DNS=1.1.1.1

# -------------------------------------------------------------------
# Keycloak (SSO)
# -------------------------------------------------------------------
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME

# -------------------------------------------------------------------
# Mail / Notifications (SMTP)
# -------------------------------------------------------------------
# Used primarily by Keycloak for password resets / email actions.
# Fill these in to enable SMTP auto-configuration by scripts/keycloak-bootstrap.ps1.
#
# Example (STARTTLS):
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_FROM=no-reply@example.com
# SMTP_USER=no-reply@example.com
# SMTP_PASSWORD=CHANGE_ME
# SMTP_STARTTLS=true
# SMTP_SSL=false

SMTP_HOST=
SMTP_PORT=587
SMTP_FROM=
SMTP_FROM_NAME=
SMTP_REPLY_TO=
SMTP_REPLY_TO_NAME=
SMTP_USER=
SMTP_PASSWORD=
SMTP_AUTH=
SMTP_STARTTLS=true
SMTP_SSL=false

# -------------------------------------------------------------------
# Nextcloud
# -------------------------------------------------------------------
NEXTCLOUD_ADMIN=admin
NEXTCLOUD_ADMIN_PASSWORD=CHANGE_ME

# -------------------------------------------------------------------
# Grafana
# -------------------------------------------------------------------
GRAFANA_ADMIN=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME

# -------------------------------------------------------------------
# Grafana SSO (Keycloak OIDC client secret)
# -------------------------------------------------------------------
GRAFANA_OIDC_CLIENT_SECRET=CHANGE_ME

# -------------------------------------------------------------------
# Redmine (Project Management)
# -------------------------------------------------------------------
REDMINE_SECRET_KEY=CHANGE_ME
REDMINE_DB_NAME=redmine
REDMINE_DB_USER=redmine
REDMINE_DB_PASSWORD=CHANGE_ME

# -------------------------------------------------------------------
# Wiki.js SSO (Keycloak OIDC client)
# -------------------------------------------------------------------
WIKIJS_OIDC_REALM=master
WIKIJS_OIDC_CLIENT_ID=wikijs
WIKIJS_OIDC_CLIENT_SECRET=CHANGE_ME

# -------------------------------------------------------------------
# EDMS / Document Approval (Mayan EDMS)
# -------------------------------------------------------------------
# Enabled by module 'edms'. Mayan is configured via web UI (document types, sources, workflows).
# Passwords are auto-generated if missing when you run: scripts/start.ps1 ... edms
MAYAN_REDIS_PASSWORD=CHANGE_ME
MAYAN_RABBITMQ_USER=mayan
MAYAN_RABBITMQ_PASSWORD=CHANGE_ME
MAYAN_RABBITMQ_VHOST=mayan
