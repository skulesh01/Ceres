# ‚ùì CERES - –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CERES?

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:**
1. –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ `START.bat`
2. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `MENU.ps1` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ "1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CERES"

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [–ù–ê–ß–ê–õ–û.md](–ù–ê–ß–ê–õ–û.md), [QUICKSTART.md](QUICKSTART.md)

---

### –£ –º–µ–Ω—è –Ω–µ—Ç Proxmox, –º–æ–≥—É –ª–∏ —è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CERES?

–î–∞! –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞:
- –õ—é–±–æ–π Linux —Å–µ—Ä–≤–µ—Ä —Å Docker
- VirtualBox/VMware —Å Ubuntu
- –û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (AWS, DigitalOcean, etc)

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Compose —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é.

---

### –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∞?

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** 15-20 –º–∏–Ω—É—Ç
- **–ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** 20-30 –º–∏–Ω—É—Ç
- **–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:** 1-2 —á–∞—Å–∞

---

### –ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É?

**–ú–∏–Ω–∏–º—É–º (—Ä–µ–∂–∏–º 1-VM):**
- CPU: 8 —è–¥–µ—Ä
- RAM: 16 GB
- Disk: 150 GB

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (—Ä–µ–∂–∏–º 3-VM):**
- CPU: 12 —è–¥–µ—Ä
- RAM: 20 GB
- Disk: 200 GB

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –¥–æ—Å—Ç—É–ø

### –°–∞–π—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è (ERR_NAME_NOT_RESOLVED)

**–ü—Ä–∏—á–∏–Ω–∞:** hosts —Ñ–∞–π–ª –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `MENU.ps1` ‚Üí "2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø"
2. –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: `scripts\Update-Hosts.ps1`
3. –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ `C:\Windows\System32\drivers\etc\hosts`:
   ```
   192.168.1.12  nextcloud.ceres.local
   192.168.1.12  redmine.ceres.local
   ...
   ```

---

### –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (ERR_CONNECTION_REFUSED)

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ VM –≤—ã–∫–ª—é—á–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ VM –≤ Proxmox - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH: `ssh root@192.168.1.11`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker compose ps`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `docker compose up -d`

---

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π (NET::ERR_CERT_AUTHORITY_INVALID)

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** Caddy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" ‚Üí "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç"
2. –ò–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `scripts\export-caddy-rootca.ps1`
3. –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Let's Encrypt –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞

---

### –ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**Nextcloud:**
```bash
ssh root@192.168.1.11
docker exec -it nextcloud php occ user:resetpassword admin
```

**Keycloak:**
```bash
ssh root@192.168.1.10
docker exec -it keycloak /opt/keycloak/bin/kc.sh admin set-password --username admin --password –ù–û–í–´–ô_–ü–ê–†–û–õ–¨
```

**Grafana:**
```bash
ssh root@192.168.1.12
docker exec -it grafana grafana-cli admin reset-admin-password –ù–û–í–´–ô_–ü–ê–†–û–õ–¨
```

**Redmine:**
```bash
ssh root@192.168.1.11
docker exec -it redmine rails console
# –í –∫–æ–Ω—Å–æ–ª–∏:
User.find_by_login('admin').update(password: '–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å', password_confirmation: '–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å')
exit
```

---

## üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?

1. –û—Ç–∫—Ä–æ–π—Ç–µ Keycloak: https://auth.ceres.local
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π realm (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'company')
3. Users ‚Üí Add user
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ (username, email, –∏–º—è)
5. Create
6. –í–∫–ª–∞–¥–∫–∞ Credentials ‚Üí Set password
7. –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–∫—É "Temporary"

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã!

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–µ—Ä–≤–∏—Å

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –°–æ–∑–¥–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Keycloak?
2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –ø–∞—Ä–æ–ª—å (–≤–∫–ª–∞–¥–∫–∞ Credentials)?
3. –°–Ω—è—Ç–∞ –ª–∏ –≥–∞–ª–∫–∞ "Temporary"?
4. –í–∫–ª—é—á–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User enabled = ON)?

---

### –ö–∞–∫ –¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?

**–í –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ –æ—Ç–¥–µ–ª—å–Ω–æ:**

**Nextcloud:**
```bash
docker exec -it nextcloud php occ group:adduser admin username
```

**Redmine:**
- Administration ‚Üí Users ‚Üí –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí Edit ‚Üí –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–∫—É "Administrator"

**Gitea:**
- Site Administration ‚Üí User Accounts ‚Üí –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí Edit ‚Üí Admin privileges

---

## üìß –ü–æ—á—Ç–∞

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP?

**–î–ª—è Keycloak (—Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):**
1. –°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: [docs/MAIL_SMTP_DAY1.md](docs/MAIL_SMTP_DAY1.md)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç: `scripts\keycloak-smtp.ps1`

**–î–ª—è Gmail:**
- SMTP: smtp.gmail.com
- Port: 587
- SSL: Yes
- –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞!)

**–î–ª—è Yandex:**
- SMTP: smtp.yandex.ru
- Port: 587
- SSL: Yes

---

### –ü–æ—á—Ç–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ SMTP
2. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Keycloak (Test connection)
3. –õ–æ–≥–∏: `docker logs keycloak`
4. –†–∞–∑—Ä–µ—à—ë–Ω –ª–∏ –∏—Å—Ö–æ–¥—è—â–∏–π –ø–æ—Ä—Ç 587/465 –Ω–∞ —Ñ–∞–π—Ä–≤–æ–ª–µ

**–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–ª—è Gmail –Ω—É–∂–µ–Ω App Password, –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ—á—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- –ù–µ–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—Ç –∏–ª–∏ SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üíæ –ë—ç–∫–∞–ø—ã

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é?

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `MENU.ps1` ‚Üí "5. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é"
2. –ò–ª–∏: `scripts\backup.ps1`

**–í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SSH:**
```bash
ssh root@192.168.1.11
cd /opt/Ceres
bash scripts/backup.sh
```

–ë—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `config/backups/`

---

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã?

**–ù–∞ Linux (cron):**
```bash
ssh root@192.168.1.11
crontab -e
# –î–æ–±–∞–≤—å—Ç–µ:
0 2 * * * cd /opt/Ceres && bash scripts/backup.sh
```

–≠—Ç–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 –Ω–æ—á–∏.

---

### –ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏?

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
```powershell
.\MENU.ps1
# –í—ã–±—Ä–∞—Ç—å "6. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–ø–∏–∏"
```

**–í—Ä—É—á–Ω—É—é:**
```bash
ssh root@192.168.1.11
cd /opt/Ceres
bash scripts/restore.sh config/backups/backup_YYYYMMDD_HHMMSS
```

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã!

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù—É–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?

**–î–ê! –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!**

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `MENU.ps1` ‚Üí "3. –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞" –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞.

**–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤:**
- Keycloak (admin)
- Nextcloud (admin)
- Redmine (admin)
- Grafana (admin)
- Gitea (admin)
- Portainer (admin)
- PostgreSQL (–≤ .env —Ñ–∞–π–ª–µ)

---

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞?

**WireGuard —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://vpn.ceres.local
2. –í–æ–π–¥–∏—Ç–µ: admin / admin (—Å–º–µ–Ω–∏—Ç–µ!)
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ (Add client)
4. –°–∫–∞—á–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥
5. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ WireGuard –∫–ª–∏–µ–Ω—Ç

**–ö–ª–∏–µ–Ω—Ç—ã WireGuard:**
- Windows: https://wireguard.com/install/
- Android: WireGuard –∏–∑ Google Play
- iOS: WireGuard –∏–∑ App Store
- macOS: –∏–∑ App Store

---

### –ö–∞–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ?

**–§–∞–π—Ä–≤–æ–ª –Ω–∞ Proxmox/VM:**
```bash
ufw allow 22/tcp    # SSH
ufw allow 443/tcp   # HTTPS
ufw enable
```

**–ò–ª–∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö IP:**
```bash
ufw allow from 192.168.1.0/24 to any port 443
```

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
ssh root@IP-VM
cd /opt/Ceres
docker compose ps                    # –°—Ç–∞—Ç—É—Å
docker compose logs –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞      # –õ–æ–≥–∏
docker compose restart –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM (—É–≤–µ–ª–∏—á—å—Ç–µ –≤ Proxmox)
- –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `netstat -tulpn`)
- –û—à–∏–±–∫–∞ –≤ .env —Ñ–∞–π–ª–µ
- –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

---

### –ù–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
df -h
```

**–†–µ—à–µ–Ω–∏–µ 1 - –û—á–∏—Å—Ç–∫–∞:**
```bash
docker system prune -a --volumes  # –£–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
```

**–†–µ—à–µ–Ω–∏–µ 2 - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–∏—Å–∫–∞:**
1. –í Proxmox: VM ‚Üí Hardware ‚Üí Hard Disk ‚Üí Resize
2. –í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ GB
3. –í VM: `resize2fs /dev/sda1` (–∏–ª–∏ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª)

---

### –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU/RAM

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker stats  # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã VM –≤ Proxmox
2. –û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

---

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:**
```bash
docker compose ps -a  # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:**
```bash
cd /opt/Ceres
docker compose up -d  # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

**–î–æ–±–∞–≤–∏—Ç—å –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É —Å–∏—Å—Ç–µ–º—ã:**
```bash
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å:
@reboot cd /opt/Ceres && docker compose up -d
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **Grafana:** https://grafana.ceres.local
   - –°–º–æ—Ç—Ä–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–ª–µ—Ä—Ç—ã

2. **Uptime Kuma:** https://uptime.ceres.local
   - –í–∏–¥–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

3. **–ß–µ—Ä–µ–∑ –º–µ–Ω—é:**
   ```powershell
   .\MENU.ps1
   # –í—ã–±—Ä–∞—Ç—å "4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å"
   ```

---

### –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏?

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å:**
```bash
docker logs -f –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞
```

**–í—Å–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Grafana:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://grafana.ceres.local
2. Explore ‚Üí Loki
3. –ó–∞–ø—Ä–æ—Å—ã:
   - `{container="nextcloud"}` - –ª–æ–≥–∏ Nextcloud
   - `{level="error"}` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
   - `{job="docker"}` - –≤—Å–µ Docker –ª–æ–≥–∏

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å?

1. –°–æ–∑–¥–∞–π—Ç–µ `docker-compose.yml` –≤ `config/compose/`
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `docker compose -f config/compose/–Ω–æ–≤—ã–π.yml up -d`
4. –î–æ–±–∞–≤—å—Ç–µ –≤ Caddy –¥–ª—è HTTPS

---

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã?

```bash
ssh root@IP-VM
cd /opt/Ceres
docker compose pull              # –°–∫–∞—á–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
docker compose up -d             # –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker system prune -f           # –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã
```

---

### –ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä?

1. –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø: `scripts\backup.ps1`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CERES –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—ç–∫–∞–ø: `scripts\restore.ps1`

---

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π PostgreSQL?

–î–∞! –ò–∑–º–µ–Ω–∏—Ç–µ –≤ `.env`:
```
POSTGRES_HOST=–≤–Ω–µ—à–Ω–∏–π.—Å–µ—Ä–≤–µ—Ä.com
POSTGRES_PORT=5432
POSTGRES_USER=–≤–∞—à_—é–∑–µ—Ä
POSTGRES_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
```

–ò –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –≤ `config/compose/core.yml`.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å?

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - [INDEX.md](INDEX.md) - –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä –ø–æ –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - [CHECKLIST.md](CHECKLIST.md) - —á–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - [–®–ü–ê–†–ì–ê–õ–ö–ê.md](–®–ü–ê–†–ì–ê–õ–ö–ê.md) - –±—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

2. **–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   - Wiki.js: https://wiki.ceres.local (—Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π)
   - Mattermost: https://mattermost.ceres.local (–∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –∫–æ–º–∞–Ω–¥–µ)

3. **–ú–µ–Ω—é –ø—Ä–æ–≥—Ä–∞–º–º—ã:**
   ```powershell
   .\MENU.ps1
   # –í—ã–±—Ä–∞—Ç—å "9. –ü–æ–º–æ—â—å –∏ FAQ"
   ```

---

### –ö–∞–∫ —Å–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ?

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
   ```bash
   docker compose ps      # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   docker logs —Å–µ—Ä–≤–∏—Å     # –õ–æ–≥–∏ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   df -h                  # –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
   free -h                # –ü–∞–º—è—Ç—å
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ Gitea: https://gitea.ceres.local

3. –û–ø–∏—à–∏—Ç–µ:
   - –ß—Ç–æ –¥–µ–ª–∞–ª–∏
   - –ß—Ç–æ –æ–∂–∏–¥–∞–ª–∏
   - –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏
   - –õ–æ–≥–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã

---

## üí° –°–æ–≤–µ—Ç—ã –∏ —Ç—Ä—é–∫–∏

### –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É?

1. **SSD –¥–∏—Å–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSD –≤–º–µ—Å—Ç–æ HDD
2. **–ë–æ–ª—å—à–µ RAM** - –º–∏–Ω–∏–º—É–º 20GB, –ª—É—á—à–µ 32GB
3. **–û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω–æ–µ** - –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–µ—Ä–≤–∏—Å, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ

---

### –ö–∞–∫ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –º–µ—Å—Ç–æ?

```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
docker system prune -a --volumes

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤
echo '{"log-driver": "json-file", "log-opts": {"max-size": "10m", "max-file": "3"}}' > /etc/docker/daemon.json
systemctl restart docker
```

---

### –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è SSH

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.bashrc`:
```bash
alias dps='docker compose ps'
alias dlogs='docker compose logs -f'
alias dup='docker compose up -d'
alias ddown='docker compose down'
alias dstats='docker stats'
```

---

*–ù–µ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç? –°–æ–∑–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ Wiki.js –∏–ª–∏ Mattermost!*

*CERES Team | 2025*
